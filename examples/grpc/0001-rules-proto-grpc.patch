From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: mjs-rokt <marc.szalkiewicz@rokt.com>
Date: Tue, 25 Jan 2022 16:22:18 -0500
Subject: [PATCH] update rules_dotnet for .NET 6.0 support


diff --git a/csharp/csharp_grpc_library.bzl b/csharp/csharp_grpc_library.bzl
index cfc66a00..fa6aa1ee 100644
--- a/csharp/csharp_grpc_library.bzl
+++ b/csharp/csharp_grpc_library.bzl
@@ -27,6 +27,6 @@ def csharp_grpc_library(name, **kwargs):
 
 GRPC_DEPS = [
     "@google.protobuf//:lib",
-    "@grpc.core//:lib",
+    "@grpc.net.client//:lib",
     "@core_sdk_stdlib//:libraryset",
 ]
diff --git a/csharp/example/routeguide/BUILD.bazel b/csharp/example/routeguide/BUILD.bazel
index a756bf67..f1e4db7d 100644
--- a/csharp/example/routeguide/BUILD.bazel
+++ b/csharp/example/routeguide/BUILD.bazel
@@ -28,7 +28,7 @@ csharp_binary(
         ":routeguide.dll",
         ":util.dll",
         "@google.protobuf//:lib",
-        "@grpc.core//:lib",
+        "@grpc.net.client//:lib",
     ],
 )
 
@@ -43,6 +43,6 @@ csharp_binary(
         ":routeguide.dll",
         ":util.dll",
         "@google.protobuf//:lib",
-        "@grpc.core//:lib",
+        "@grpc.aspnetcore//:lib",
     ],
 )
diff --git a/csharp/example/routeguide/Client.cs b/csharp/example/routeguide/Client.cs
index 9f926e6b..6e546889 100644
--- a/csharp/example/routeguide/Client.cs
+++ b/csharp/example/routeguide/Client.cs
@@ -12,7 +12,7 @@
 // See the License for the specific language governing permissions and
 // limitations under the License.
 
-using Grpc.Core;
+using Grpc.Net.Client;
 using System;
 using System.Collections.Generic;
 using System.Linq;
diff --git a/csharp/example/routeguide/Server.cs b/csharp/example/routeguide/Server.cs
index 47bb4eee..a699d033 100644
--- a/csharp/example/routeguide/Server.cs
+++ b/csharp/example/routeguide/Server.cs
@@ -22,7 +22,6 @@ using System.Threading;
 using System.Threading.Tasks;
 
 using Grpc.Core;
-using Grpc.Core.Utils;
 
 class Program
 {
diff --git a/csharp/nuget/nuget.bzl b/csharp/nuget/nuget.bzl
index 2e104b12..428fb3c5 100644
--- a/csharp/nuget/nuget.bzl
+++ b/csharp/nuget/nuget.bzl
@@ -43,6 +43,7 @@ def nuget_rules_proto_grpc_packages():
             "netcoreapp3.0": "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.dll",
             "netcoreapp3.1": "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.dll",
             "net5.0": "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.dll",
+            "net6.0": "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.dll",
         },
         core_ref = {
             "netcoreapp2.0": "ref/netstandard2.0/System.Runtime.CompilerServices.Unsafe.dll",
@@ -51,6 +52,7 @@ def nuget_rules_proto_grpc_packages():
             "netcoreapp3.0": "ref/netstandard2.0/System.Runtime.CompilerServices.Unsafe.dll",
             "netcoreapp3.1": "ref/netstandard2.0/System.Runtime.CompilerServices.Unsafe.dll",
             "net5.0": "ref/netstandard2.0/System.Runtime.CompilerServices.Unsafe.dll",
+            "net6.0": "ref/netstandard2.0/System.Runtime.CompilerServices.Unsafe.dll",
         },
         core_files = {
             "netcoreapp2.0": [
@@ -77,6 +79,10 @@ def nuget_rules_proto_grpc_packages():
                 "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.dll",
                 "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.xml",
             ],
+            "net6.0": [
+                "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.dll",
+                "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.xml",
+            ],
         },
     )
     nuget_package(
@@ -111,6 +117,7 @@ def nuget_rules_proto_grpc_packages():
             "netcoreapp3.0": "lib/netstandard2.0/Google.Protobuf.dll",
             "netcoreapp3.1": "lib/netstandard2.0/Google.Protobuf.dll",
             "net5.0": "lib/net5.0/Google.Protobuf.dll",
+            "net6.0": "lib/net5.0/Google.Protobuf.dll",
         },
         core_deps = {
             "netcoreapp2.0": [
@@ -165,13 +172,63 @@ def nuget_rules_proto_grpc_packages():
                 "lib/net5.0/Google.Protobuf.pdb",
                 "lib/net5.0/Google.Protobuf.xml",
             ],
+            "net6.0": [
+                "lib/net5.0/Google.Protobuf.dll",
+                "lib/net5.0/Google.Protobuf.pdb",
+                "lib/net5.0/Google.Protobuf.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "microsoft.extensions.logging.abstractions",
+        package = "microsoft.extensions.logging.abstractions",
+        version = "3.1.22",
+        sha256 = "f75ab6fb93291688944fd7f45d44f75bb21a4f055f58ad5bae6db0935f578ac1",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+            "netcoreapp3.0": "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+            "netcoreapp3.1": "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+            "net5.0": "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+            "net6.0": "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.xml",
+            ],
+            "net5.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.xml",
+            ],
+            "net6.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.xml",
+            ],
         },
     )
     nuget_package(
         name = "grpc.core.api",
         package = "grpc.core.api",
-        version = "2.42.0",
-        sha256 = "e8c12e9d1e4dddbce1d4ea1c7c27f3599c94d5ad18e5ef08c836de02d94f0d07",
+        version = "2.43.0",
+        sha256 = "12880d33af4b2706b009c09ce67a087520c0c23f7fb71fedf0eedb088e68dc2b",
         core_lib = {
             "netcoreapp2.0": "lib/netstandard2.0/Grpc.Core.Api.dll",
             "netcoreapp2.1": "lib/netstandard2.0/Grpc.Core.Api.dll",
@@ -179,6 +236,7 @@ def nuget_rules_proto_grpc_packages():
             "netcoreapp3.0": "lib/netstandard2.0/Grpc.Core.Api.dll",
             "netcoreapp3.1": "lib/netstandard2.0/Grpc.Core.Api.dll",
             "net5.0": "lib/netstandard2.0/Grpc.Core.Api.dll",
+            "net6.0": "lib/netstandard2.0/Grpc.Core.Api.dll",
         },
         core_deps = {
             "netcoreapp2.0": [
@@ -199,6 +257,9 @@ def nuget_rules_proto_grpc_packages():
             "net5.0": [
                 "@system.memory//:net5.0_core",
             ],
+            "net6.0": [
+                "@system.memory//:net6.0_core",
+            ],
         },
         core_files = {
             "netcoreapp2.0": [
@@ -231,151 +292,1275 @@ def nuget_rules_proto_grpc_packages():
                 "lib/netstandard2.0/Grpc.Core.Api.pdb",
                 "lib/netstandard2.0/Grpc.Core.Api.xml",
             ],
+            "net6.0": [
+                "lib/netstandard2.0/Grpc.Core.Api.dll",
+                "lib/netstandard2.0/Grpc.Core.Api.pdb",
+                "lib/netstandard2.0/Grpc.Core.Api.xml",
+            ],
         },
     )
     nuget_package(
-        name = "grpc.core",
-        package = "grpc.core",
+        name = "grpc.net.common",
+        package = "grpc.net.common",
         version = "2.42.0",
-        sha256 = "7180cc7b1cdc5f60885e2a17f2ecc5dcdb9eb737f917214309c1eb04e0d8e4cb",
+        sha256 = "fd73e87ac6d101a56bce3a9a3977594d97998f3cbb16c606393f6757557e76e2",
         core_lib = {
-            "netcoreapp2.0": "lib/netstandard2.0/Grpc.Core.dll",
-            "netcoreapp2.1": "lib/netstandard2.0/Grpc.Core.dll",
-            "netcoreapp2.2": "lib/netstandard2.0/Grpc.Core.dll",
-            "netcoreapp3.0": "lib/netstandard2.0/Grpc.Core.dll",
-            "netcoreapp3.1": "lib/netstandard2.0/Grpc.Core.dll",
-            "net5.0": "lib/netstandard2.0/Grpc.Core.dll",
+            "netcoreapp2.0": "lib/netstandard2.0/Grpc.Net.Common.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Grpc.Net.Common.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Grpc.Net.Common.dll",
+            "netcoreapp3.0": "lib/netstandard2.1/Grpc.Net.Common.dll",
+            "netcoreapp3.1": "lib/netstandard2.1/Grpc.Net.Common.dll",
+            "net5.0": "lib/net5.0/Grpc.Net.Common.dll",
+            "net6.0": "lib/net6.0/Grpc.Net.Common.dll",
         },
         core_deps = {
             "netcoreapp2.0": [
                 "@grpc.core.api//:netcoreapp2.0_core",
-                "@system.memory//:netcoreapp2.0_core",
             ],
             "netcoreapp2.1": [
                 "@grpc.core.api//:netcoreapp2.1_core",
-                "@system.memory//:netcoreapp2.1_core",
             ],
             "netcoreapp2.2": [
                 "@grpc.core.api//:netcoreapp2.2_core",
-                "@system.memory//:netcoreapp2.2_core",
             ],
             "netcoreapp3.0": [
                 "@grpc.core.api//:netcoreapp3.0_core",
-                "@system.memory//:netcoreapp3.0_core",
             ],
             "netcoreapp3.1": [
                 "@grpc.core.api//:netcoreapp3.1_core",
-                "@system.memory//:netcoreapp3.1_core",
             ],
             "net5.0": [
                 "@grpc.core.api//:net5.0_core",
-                "@system.memory//:net5.0_core",
+            ],
+            "net6.0": [
+                "@grpc.core.api//:net6.0_core",
             ],
         },
         core_files = {
             "netcoreapp2.0": [
-                "lib/netstandard2.0/Grpc.Core.dll",
-                "lib/netstandard2.0/Grpc.Core.pdb",
-                "lib/netstandard2.0/Grpc.Core.xml",
-
-                # Patched in by regenerate_packages.sh
-                # Can't use select() here, so must just specify all
-                "runtimes/win-x64/native/grpc_csharp_ext.x64.dll",
-                "runtimes/win-x86/native/grpc_csharp_ext.x86.dll",
-                "runtimes/linux-arm64/native/libgrpc_csharp_ext.arm64.so",
-                "runtimes/linux-x64/native/libgrpc_csharp_ext.x64.so",
-                "runtimes/osx-x64/native/libgrpc_csharp_ext.x64.dylib",
+                "lib/netstandard2.0/Grpc.Net.Common.dll",
+                "lib/netstandard2.0/Grpc.Net.Common.pdb",
+                "lib/netstandard2.0/Grpc.Net.Common.xml",
             ],
             "netcoreapp2.1": [
-                "lib/netstandard2.0/Grpc.Core.dll",
-                "lib/netstandard2.0/Grpc.Core.pdb",
-                "lib/netstandard2.0/Grpc.Core.xml",
-
-                # Patched in by regenerate_packages.sh
-                # Can't use select() here, so must just specify all
-                "runtimes/win-x64/native/grpc_csharp_ext.x64.dll",
-                "runtimes/win-x86/native/grpc_csharp_ext.x86.dll",
-                "runtimes/linux-arm64/native/libgrpc_csharp_ext.arm64.so",
-                "runtimes/linux-x64/native/libgrpc_csharp_ext.x64.so",
-                "runtimes/osx-x64/native/libgrpc_csharp_ext.x64.dylib",
+                "lib/netstandard2.0/Grpc.Net.Common.dll",
+                "lib/netstandard2.0/Grpc.Net.Common.pdb",
+                "lib/netstandard2.0/Grpc.Net.Common.xml",
             ],
             "netcoreapp2.2": [
-                "lib/netstandard2.0/Grpc.Core.dll",
-                "lib/netstandard2.0/Grpc.Core.pdb",
-                "lib/netstandard2.0/Grpc.Core.xml",
-
-                # Patched in by regenerate_packages.sh
-                # Can't use select() here, so must just specify all
-                "runtimes/win-x64/native/grpc_csharp_ext.x64.dll",
-                "runtimes/win-x86/native/grpc_csharp_ext.x86.dll",
-                "runtimes/linux-arm64/native/libgrpc_csharp_ext.arm64.so",
-                "runtimes/linux-x64/native/libgrpc_csharp_ext.x64.so",
-                "runtimes/osx-x64/native/libgrpc_csharp_ext.x64.dylib",
-            ],
-            "netcoreapp3.0": [
-                "lib/netstandard2.0/Grpc.Core.dll",
-                "lib/netstandard2.0/Grpc.Core.pdb",
-                "lib/netstandard2.0/Grpc.Core.xml",
-
-                # Patched in by regenerate_packages.sh
-                # Can't use select() here, so must just specify all
-                "runtimes/win-x64/native/grpc_csharp_ext.x64.dll",
-                "runtimes/win-x86/native/grpc_csharp_ext.x86.dll",
-                "runtimes/linux-arm64/native/libgrpc_csharp_ext.arm64.so",
-                "runtimes/linux-x64/native/libgrpc_csharp_ext.x64.so",
-                "runtimes/osx-x64/native/libgrpc_csharp_ext.x64.dylib",
-            ],
-            "netcoreapp3.1": [
-                "lib/netstandard2.0/Grpc.Core.dll",
-                "lib/netstandard2.0/Grpc.Core.pdb",
-                "lib/netstandard2.0/Grpc.Core.xml",
-
-                # Patched in by regenerate_packages.sh
-                # Can't use select() here, so must just specify all
-                "runtimes/win-x64/native/grpc_csharp_ext.x64.dll",
-                "runtimes/win-x86/native/grpc_csharp_ext.x86.dll",
-                "runtimes/linux-arm64/native/libgrpc_csharp_ext.arm64.so",
-                "runtimes/linux-x64/native/libgrpc_csharp_ext.x64.so",
-                "runtimes/osx-x64/native/libgrpc_csharp_ext.x64.dylib",
-            ],
-            "net5.0": [
-                "lib/netstandard2.0/Grpc.Core.dll",
-                "lib/netstandard2.0/Grpc.Core.pdb",
-                "lib/netstandard2.0/Grpc.Core.xml",
-
-                # Patched in by regenerate_packages.sh
-                # Can't use select() here, so must just specify all
-                "runtimes/win-x64/native/grpc_csharp_ext.x64.dll",
-                "runtimes/win-x86/native/grpc_csharp_ext.x86.dll",
-                "runtimes/linux-arm64/native/libgrpc_csharp_ext.arm64.so",
-                "runtimes/linux-x64/native/libgrpc_csharp_ext.x64.so",
-                "runtimes/osx-x64/native/libgrpc_csharp_ext.x64.dylib",
+                "lib/netstandard2.0/Grpc.Net.Common.dll",
+                "lib/netstandard2.0/Grpc.Net.Common.pdb",
+                "lib/netstandard2.0/Grpc.Net.Common.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.1/Grpc.Net.Common.dll",
+                "lib/netstandard2.1/Grpc.Net.Common.pdb",
+                "lib/netstandard2.1/Grpc.Net.Common.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netstandard2.1/Grpc.Net.Common.dll",
+                "lib/netstandard2.1/Grpc.Net.Common.pdb",
+                "lib/netstandard2.1/Grpc.Net.Common.xml",
+            ],
+            "net5.0": [
+                "lib/net5.0/Grpc.Net.Common.dll",
+                "lib/net5.0/Grpc.Net.Common.pdb",
+                "lib/net5.0/Grpc.Net.Common.xml",
+            ],
+            "net6.0": [
+                "lib/net6.0/Grpc.Net.Common.dll",
+                "lib/net6.0/Grpc.Net.Common.pdb",
+                "lib/net6.0/Grpc.Net.Common.xml",
             ],
         },
     )
     nuget_package(
-        name = "grpc",
-        package = "grpc",
+        name = "grpc.net.client",
+        package = "grpc.net.client",
         version = "2.42.0",
-        sha256 = "e9097f2ab88447b58bcf20929d6954634332f4ad36f64f977d1e797262a2859a",
+        sha256 = "8d98157251b29b114c1500ad0e6f7c045dac59085930cbc502412b2f0ad5f2ce",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Grpc.Net.Client.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Grpc.Net.Client.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Grpc.Net.Client.dll",
+            "netcoreapp3.0": "lib/netstandard2.1/Grpc.Net.Client.dll",
+            "netcoreapp3.1": "lib/netstandard2.1/Grpc.Net.Client.dll",
+            "net5.0": "lib/net5.0/Grpc.Net.Client.dll",
+            "net6.0": "lib/net6.0/Grpc.Net.Client.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@grpc.net.common//:netcoreapp2.0_core",
+                "@microsoft.extensions.logging.abstractions//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@grpc.net.common//:netcoreapp2.1_core",
+                "@microsoft.extensions.logging.abstractions//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@grpc.net.common//:netcoreapp2.2_core",
+                "@microsoft.extensions.logging.abstractions//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@grpc.net.common//:netcoreapp3.0_core",
+                "@microsoft.extensions.logging.abstractions//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@grpc.net.common//:netcoreapp3.1_core",
+                "@microsoft.extensions.logging.abstractions//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@grpc.net.common//:net5.0_core",
+                "@microsoft.extensions.logging.abstractions//:net5.0_core",
+            ],
+            "net6.0": [
+                "@grpc.net.common//:net6.0_core",
+                "@microsoft.extensions.logging.abstractions//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Grpc.Net.Client.dll",
+                "lib/netstandard2.0/Grpc.Net.Client.pdb",
+                "lib/netstandard2.0/Grpc.Net.Client.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Grpc.Net.Client.dll",
+                "lib/netstandard2.0/Grpc.Net.Client.pdb",
+                "lib/netstandard2.0/Grpc.Net.Client.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Grpc.Net.Client.dll",
+                "lib/netstandard2.0/Grpc.Net.Client.pdb",
+                "lib/netstandard2.0/Grpc.Net.Client.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.1/Grpc.Net.Client.dll",
+                "lib/netstandard2.1/Grpc.Net.Client.pdb",
+                "lib/netstandard2.1/Grpc.Net.Client.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netstandard2.1/Grpc.Net.Client.dll",
+                "lib/netstandard2.1/Grpc.Net.Client.pdb",
+                "lib/netstandard2.1/Grpc.Net.Client.xml",
+            ],
+            "net5.0": [
+                "lib/net5.0/Grpc.Net.Client.dll",
+                "lib/net5.0/Grpc.Net.Client.pdb",
+                "lib/net5.0/Grpc.Net.Client.xml",
+            ],
+            "net6.0": [
+                "lib/net6.0/Grpc.Net.Client.dll",
+                "lib/net6.0/Grpc.Net.Client.pdb",
+                "lib/net6.0/Grpc.Net.Client.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "grpc.tools",
+        package = "grpc.tools",
+        version = "2.43.0",
+        sha256 = "654ff8c902240a966a705a1cc06dde7a135687a31d365911b3979f719627e7fc",
+        core_files = {
+            "netcoreapp2.0": [
+                "tools/linux_arm64/grpc_csharp_plugin",
+                "tools/linux_arm64/protoc",
+                "tools/linux_x64/grpc_csharp_plugin",
+                "tools/linux_x64/protoc",
+                "tools/linux_x86/grpc_csharp_plugin",
+                "tools/linux_x86/protoc",
+                "tools/macosx_x64/grpc_csharp_plugin",
+                "tools/macosx_x64/protoc",
+                "tools/windows_x64/grpc_csharp_plugin.exe",
+                "tools/windows_x64/protoc.exe",
+                "tools/windows_x86/grpc_csharp_plugin.exe",
+                "tools/windows_x86/protoc.exe",
+                "build/Grpc.Tools.props",
+                "build/Grpc.Tools.targets",
+                "build/_grpc/Grpc.CSharp.xml",
+                "build/_grpc/_Grpc.Tools.props",
+                "build/_grpc/_Grpc.Tools.targets",
+                "build/_protobuf/Google.Protobuf.Tools.props",
+                "build/_protobuf/Google.Protobuf.Tools.targets",
+                "build/_protobuf/net45/Protobuf.MSBuild.dll",
+                "build/_protobuf/net45/Protobuf.MSBuild.pdb",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.dll",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.pdb",
+                "build/_protobuf/Protobuf.CSharp.xml",
+            ],
+            "netcoreapp2.1": [
+                "tools/linux_arm64/grpc_csharp_plugin",
+                "tools/linux_arm64/protoc",
+                "tools/linux_x64/grpc_csharp_plugin",
+                "tools/linux_x64/protoc",
+                "tools/linux_x86/grpc_csharp_plugin",
+                "tools/linux_x86/protoc",
+                "tools/macosx_x64/grpc_csharp_plugin",
+                "tools/macosx_x64/protoc",
+                "tools/windows_x64/grpc_csharp_plugin.exe",
+                "tools/windows_x64/protoc.exe",
+                "tools/windows_x86/grpc_csharp_plugin.exe",
+                "tools/windows_x86/protoc.exe",
+                "build/Grpc.Tools.props",
+                "build/Grpc.Tools.targets",
+                "build/_grpc/Grpc.CSharp.xml",
+                "build/_grpc/_Grpc.Tools.props",
+                "build/_grpc/_Grpc.Tools.targets",
+                "build/_protobuf/Google.Protobuf.Tools.props",
+                "build/_protobuf/Google.Protobuf.Tools.targets",
+                "build/_protobuf/net45/Protobuf.MSBuild.dll",
+                "build/_protobuf/net45/Protobuf.MSBuild.pdb",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.dll",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.pdb",
+                "build/_protobuf/Protobuf.CSharp.xml",
+            ],
+            "netcoreapp2.2": [
+                "tools/linux_arm64/grpc_csharp_plugin",
+                "tools/linux_arm64/protoc",
+                "tools/linux_x64/grpc_csharp_plugin",
+                "tools/linux_x64/protoc",
+                "tools/linux_x86/grpc_csharp_plugin",
+                "tools/linux_x86/protoc",
+                "tools/macosx_x64/grpc_csharp_plugin",
+                "tools/macosx_x64/protoc",
+                "tools/windows_x64/grpc_csharp_plugin.exe",
+                "tools/windows_x64/protoc.exe",
+                "tools/windows_x86/grpc_csharp_plugin.exe",
+                "tools/windows_x86/protoc.exe",
+                "build/Grpc.Tools.props",
+                "build/Grpc.Tools.targets",
+                "build/_grpc/Grpc.CSharp.xml",
+                "build/_grpc/_Grpc.Tools.props",
+                "build/_grpc/_Grpc.Tools.targets",
+                "build/_protobuf/Google.Protobuf.Tools.props",
+                "build/_protobuf/Google.Protobuf.Tools.targets",
+                "build/_protobuf/net45/Protobuf.MSBuild.dll",
+                "build/_protobuf/net45/Protobuf.MSBuild.pdb",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.dll",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.pdb",
+                "build/_protobuf/Protobuf.CSharp.xml",
+            ],
+            "netcoreapp3.0": [
+                "tools/linux_arm64/grpc_csharp_plugin",
+                "tools/linux_arm64/protoc",
+                "tools/linux_x64/grpc_csharp_plugin",
+                "tools/linux_x64/protoc",
+                "tools/linux_x86/grpc_csharp_plugin",
+                "tools/linux_x86/protoc",
+                "tools/macosx_x64/grpc_csharp_plugin",
+                "tools/macosx_x64/protoc",
+                "tools/windows_x64/grpc_csharp_plugin.exe",
+                "tools/windows_x64/protoc.exe",
+                "tools/windows_x86/grpc_csharp_plugin.exe",
+                "tools/windows_x86/protoc.exe",
+                "build/Grpc.Tools.props",
+                "build/Grpc.Tools.targets",
+                "build/_grpc/Grpc.CSharp.xml",
+                "build/_grpc/_Grpc.Tools.props",
+                "build/_grpc/_Grpc.Tools.targets",
+                "build/_protobuf/Google.Protobuf.Tools.props",
+                "build/_protobuf/Google.Protobuf.Tools.targets",
+                "build/_protobuf/net45/Protobuf.MSBuild.dll",
+                "build/_protobuf/net45/Protobuf.MSBuild.pdb",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.dll",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.pdb",
+                "build/_protobuf/Protobuf.CSharp.xml",
+            ],
+            "netcoreapp3.1": [
+                "tools/linux_arm64/grpc_csharp_plugin",
+                "tools/linux_arm64/protoc",
+                "tools/linux_x64/grpc_csharp_plugin",
+                "tools/linux_x64/protoc",
+                "tools/linux_x86/grpc_csharp_plugin",
+                "tools/linux_x86/protoc",
+                "tools/macosx_x64/grpc_csharp_plugin",
+                "tools/macosx_x64/protoc",
+                "tools/windows_x64/grpc_csharp_plugin.exe",
+                "tools/windows_x64/protoc.exe",
+                "tools/windows_x86/grpc_csharp_plugin.exe",
+                "tools/windows_x86/protoc.exe",
+                "build/Grpc.Tools.props",
+                "build/Grpc.Tools.targets",
+                "build/_grpc/Grpc.CSharp.xml",
+                "build/_grpc/_Grpc.Tools.props",
+                "build/_grpc/_Grpc.Tools.targets",
+                "build/_protobuf/Google.Protobuf.Tools.props",
+                "build/_protobuf/Google.Protobuf.Tools.targets",
+                "build/_protobuf/net45/Protobuf.MSBuild.dll",
+                "build/_protobuf/net45/Protobuf.MSBuild.pdb",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.dll",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.pdb",
+                "build/_protobuf/Protobuf.CSharp.xml",
+            ],
+            "net5.0": [
+                "tools/linux_arm64/grpc_csharp_plugin",
+                "tools/linux_arm64/protoc",
+                "tools/linux_x64/grpc_csharp_plugin",
+                "tools/linux_x64/protoc",
+                "tools/linux_x86/grpc_csharp_plugin",
+                "tools/linux_x86/protoc",
+                "tools/macosx_x64/grpc_csharp_plugin",
+                "tools/macosx_x64/protoc",
+                "tools/windows_x64/grpc_csharp_plugin.exe",
+                "tools/windows_x64/protoc.exe",
+                "tools/windows_x86/grpc_csharp_plugin.exe",
+                "tools/windows_x86/protoc.exe",
+                "build/Grpc.Tools.props",
+                "build/Grpc.Tools.targets",
+                "build/_grpc/Grpc.CSharp.xml",
+                "build/_grpc/_Grpc.Tools.props",
+                "build/_grpc/_Grpc.Tools.targets",
+                "build/_protobuf/Google.Protobuf.Tools.props",
+                "build/_protobuf/Google.Protobuf.Tools.targets",
+                "build/_protobuf/net45/Protobuf.MSBuild.dll",
+                "build/_protobuf/net45/Protobuf.MSBuild.pdb",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.dll",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.pdb",
+                "build/_protobuf/Protobuf.CSharp.xml",
+            ],
+            "net6.0": [
+                "tools/linux_arm64/grpc_csharp_plugin",
+                "tools/linux_arm64/protoc",
+                "tools/linux_x64/grpc_csharp_plugin",
+                "tools/linux_x64/protoc",
+                "tools/linux_x86/grpc_csharp_plugin",
+                "tools/linux_x86/protoc",
+                "tools/macosx_x64/grpc_csharp_plugin",
+                "tools/macosx_x64/protoc",
+                "tools/windows_x64/grpc_csharp_plugin.exe",
+                "tools/windows_x64/protoc.exe",
+                "tools/windows_x86/grpc_csharp_plugin.exe",
+                "tools/windows_x86/protoc.exe",
+                "build/Grpc.Tools.props",
+                "build/Grpc.Tools.targets",
+                "build/_grpc/Grpc.CSharp.xml",
+                "build/_grpc/_Grpc.Tools.props",
+                "build/_grpc/_Grpc.Tools.targets",
+                "build/_protobuf/Google.Protobuf.Tools.props",
+                "build/_protobuf/Google.Protobuf.Tools.targets",
+                "build/_protobuf/net45/Protobuf.MSBuild.dll",
+                "build/_protobuf/net45/Protobuf.MSBuild.pdb",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.dll",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.pdb",
+                "build/_protobuf/Protobuf.CSharp.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "microsoft.extensions.dependencyinjection.abstractions",
+        package = "microsoft.extensions.dependencyinjection.abstractions",
+        version = "3.1.22",
+        sha256 = "a1bc01cf5bcf789bad3f8184629e27ada242a245e05f9ded57631b63b7aa3e4b",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+            "netcoreapp3.0": "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+            "netcoreapp3.1": "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+            "net5.0": "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+            "net6.0": "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.xml",
+            ],
+            "net5.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.xml",
+            ],
+            "net6.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "microsoft.extensions.primitives",
+        package = "microsoft.extensions.primitives",
+        version = "3.1.22",
+        sha256 = "2468d8821ed9815707bd0d44e6c6a54785b6de5ee03fa21cd76d154965842daa",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Extensions.Primitives.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Extensions.Primitives.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Extensions.Primitives.dll",
+            "netcoreapp3.0": "lib/netstandard2.0/Microsoft.Extensions.Primitives.dll",
+            "netcoreapp3.1": "lib/netcoreapp3.1/Microsoft.Extensions.Primitives.dll",
+            "net5.0": "lib/netcoreapp3.1/Microsoft.Extensions.Primitives.dll",
+            "net6.0": "lib/netcoreapp3.1/Microsoft.Extensions.Primitives.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@system.memory//:netcoreapp2.0_core",
+                "@system.runtime.compilerservices.unsafe//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@system.memory//:netcoreapp2.1_core",
+                "@system.runtime.compilerservices.unsafe//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@system.memory//:netcoreapp2.2_core",
+                "@system.runtime.compilerservices.unsafe//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@system.memory//:netcoreapp3.0_core",
+                "@system.runtime.compilerservices.unsafe//:netcoreapp3.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Primitives.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Primitives.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.Primitives.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Primitives.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Microsoft.Extensions.Primitives.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Primitives.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Primitives.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Primitives.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Primitives.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Primitives.xml",
+            ],
+            "net5.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Primitives.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Primitives.xml",
+            ],
+            "net6.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Primitives.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Primitives.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "microsoft.extensions.configuration.abstractions",
+        package = "microsoft.extensions.configuration.abstractions",
+        version = "3.1.22",
+        sha256 = "cef302e41297c4a89768015f399a324a05a0d807381bd6f77f7f15657796c7d8",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.dll",
+            "netcoreapp3.0": "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.dll",
+            "netcoreapp3.1": "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Abstractions.dll",
+            "net5.0": "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Abstractions.dll",
+            "net6.0": "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Abstractions.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@microsoft.extensions.primitives//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@microsoft.extensions.primitives//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@microsoft.extensions.primitives//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@microsoft.extensions.primitives//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@microsoft.extensions.primitives//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@microsoft.extensions.primitives//:net5.0_core",
+            ],
+            "net6.0": [
+                "@microsoft.extensions.primitives//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Abstractions.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Abstractions.xml",
+            ],
+            "net5.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Abstractions.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Abstractions.xml",
+            ],
+            "net6.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Abstractions.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Abstractions.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "microsoft.extensions.configuration",
+        package = "microsoft.extensions.configuration",
+        version = "3.1.22",
+        sha256 = "20032b44ff095956617a0ffc157aee8a61ea1cb5b63e75b32b0f28b780f33bba",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Extensions.Configuration.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Extensions.Configuration.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Extensions.Configuration.dll",
+            "netcoreapp3.0": "lib/netstandard2.0/Microsoft.Extensions.Configuration.dll",
+            "netcoreapp3.1": "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.dll",
+            "net5.0": "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.dll",
+            "net6.0": "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@microsoft.extensions.configuration.abstractions//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@microsoft.extensions.configuration.abstractions//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@microsoft.extensions.configuration.abstractions//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@microsoft.extensions.configuration.abstractions//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@microsoft.extensions.configuration.abstractions//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@microsoft.extensions.configuration.abstractions//:net5.0_core",
+            ],
+            "net6.0": [
+                "@microsoft.extensions.configuration.abstractions//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.xml",
+            ],
+            "net5.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.xml",
+            ],
+            "net6.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "microsoft.extensions.configuration.binder",
+        package = "microsoft.extensions.configuration.binder",
+        version = "3.1.22",
+        sha256 = "2713d14d522961b9a0fdf44bb661822331977291434d07ec6c375549ab9fe70f",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.dll",
+            "netcoreapp3.0": "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.dll",
+            "netcoreapp3.1": "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Binder.dll",
+            "net5.0": "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Binder.dll",
+            "net6.0": "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Binder.dll",
+        },
         core_deps = {
             "netcoreapp2.0": [
-                "@grpc.core//:netcoreapp2.0_core",
+                "@microsoft.extensions.configuration//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@microsoft.extensions.configuration//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@microsoft.extensions.configuration//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@microsoft.extensions.configuration//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@microsoft.extensions.configuration//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@microsoft.extensions.configuration//:net5.0_core",
+            ],
+            "net6.0": [
+                "@microsoft.extensions.configuration//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.xml",
             ],
             "netcoreapp2.1": [
-                "@grpc.core//:netcoreapp2.1_core",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.xml",
             ],
             "netcoreapp2.2": [
-                "@grpc.core//:netcoreapp2.2_core",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.xml",
             ],
             "netcoreapp3.0": [
-                "@grpc.core//:netcoreapp3.0_core",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.xml",
             ],
             "netcoreapp3.1": [
-                "@grpc.core//:netcoreapp3.1_core",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Binder.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Binder.xml",
             ],
             "net5.0": [
-                "@grpc.core//:net5.0_core",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Binder.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Binder.xml",
+            ],
+            "net6.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Binder.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Binder.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "microsoft.extensions.options",
+        package = "microsoft.extensions.options",
+        version = "3.1.22",
+        sha256 = "96d4a52d547ee7e9947edbfbc6c9d56d9504e2af34566efc05b45be282d4cfb3",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Extensions.Options.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Extensions.Options.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Extensions.Options.dll",
+            "netcoreapp3.0": "lib/netstandard2.0/Microsoft.Extensions.Options.dll",
+            "netcoreapp3.1": "lib/netcoreapp3.1/Microsoft.Extensions.Options.dll",
+            "net5.0": "lib/netcoreapp3.1/Microsoft.Extensions.Options.dll",
+            "net6.0": "lib/netcoreapp3.1/Microsoft.Extensions.Options.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp2.0_core",
+                "@microsoft.extensions.primitives//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp2.1_core",
+                "@microsoft.extensions.primitives//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp2.2_core",
+                "@microsoft.extensions.primitives//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp3.0_core",
+                "@microsoft.extensions.primitives//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp3.1_core",
+                "@microsoft.extensions.primitives//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:net5.0_core",
+                "@microsoft.extensions.primitives//:net5.0_core",
+            ],
+            "net6.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:net6.0_core",
+                "@microsoft.extensions.primitives//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Options.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Options.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.Options.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Options.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Microsoft.Extensions.Options.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Options.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Options.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Options.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Options.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Options.xml",
+            ],
+            "net5.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Options.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Options.xml",
+            ],
+            "net6.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Options.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Options.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "grpc.aspnetcore.server",
+        package = "grpc.aspnetcore.server",
+        version = "2.42.0",
+        sha256 = "1fb389b48612dee3cf5b5cafa90aa31755c9baeec5559ca2b6c776fe081f9e7d",
+        core_lib = {
+            "netcoreapp3.0": "lib/netcoreapp3.0/Grpc.AspNetCore.Server.dll",
+            "netcoreapp3.1": "lib/netcoreapp3.0/Grpc.AspNetCore.Server.dll",
+            "net5.0": "lib/net5.0/Grpc.AspNetCore.Server.dll",
+            "net6.0": "lib/net6.0/Grpc.AspNetCore.Server.dll",
+        },
+        core_deps = {
+            "netcoreapp3.0": [
+                "@grpc.net.common//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@grpc.net.common//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@grpc.net.common//:net5.0_core",
+            ],
+            "net6.0": [
+                "@grpc.net.common//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp3.0": [
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.dll",
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.pdb",
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.dll",
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.pdb",
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.xml",
+            ],
+            "net5.0": [
+                "lib/net5.0/Grpc.AspNetCore.Server.dll",
+                "lib/net5.0/Grpc.AspNetCore.Server.pdb",
+                "lib/net5.0/Grpc.AspNetCore.Server.xml",
+            ],
+            "net6.0": [
+                "lib/net6.0/Grpc.AspNetCore.Server.dll",
+                "lib/net6.0/Grpc.AspNetCore.Server.pdb",
+                "lib/net6.0/Grpc.AspNetCore.Server.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "system.threading.tasks.extensions",
+        package = "system.threading.tasks.extensions",
+        version = "4.5.4",
+        sha256 = "a304a963cc0796c5179f9c6b7d8022bbce3b2fa7c029eb6196f631f7b462d678",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/System.Threading.Tasks.Extensions.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@system.runtime.compilerservices.unsafe//:netcoreapp2.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/System.Threading.Tasks.Extensions.dll",
+                "lib/netstandard2.0/System.Threading.Tasks.Extensions.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "microsoft.bcl.asyncinterfaces",
+        package = "microsoft.bcl.asyncinterfaces",
+        version = "1.1.1",
+        sha256 = "7c0717e2cc44d2f79633509906d5d1fd49e4cbeeac137df2ad5ee886b5862a28",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.dll",
+            "netcoreapp3.0": "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+            "netcoreapp3.1": "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+            "net5.0": "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+            "net6.0": "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+        },
+        core_ref = {
+            "netcoreapp2.0": "ref/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.dll",
+            "netcoreapp2.1": "ref/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.dll",
+            "netcoreapp2.2": "ref/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.dll",
+            "netcoreapp3.0": "ref/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+            "netcoreapp3.1": "ref/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+            "net5.0": "ref/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+            "net6.0": "ref/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@system.threading.tasks.extensions//:netcoreapp2.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.dll",
+                "lib/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.dll",
+                "lib/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.dll",
+                "lib/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+                "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+                "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.xml",
+            ],
+            "net5.0": [
+                "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+                "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.xml",
+            ],
+            "net6.0": [
+                "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+                "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "microsoft.extensions.dependencyinjection",
+        package = "microsoft.extensions.dependencyinjection",
+        version = "3.1.22",
+        sha256 = "da19102d8302120c1ae3fff3db012f5a2de4c581197a9bc8165dea28076f288c",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.dll",
+            "netcoreapp3.0": "lib/netstandard2.1/Microsoft.Extensions.DependencyInjection.dll",
+            "netcoreapp3.1": "lib/netcoreapp3.1/Microsoft.Extensions.DependencyInjection.dll",
+            "net5.0": "lib/netcoreapp3.1/Microsoft.Extensions.DependencyInjection.dll",
+            "net6.0": "lib/netcoreapp3.1/Microsoft.Extensions.DependencyInjection.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp2.0_core",
+                "@microsoft.bcl.asyncinterfaces//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp2.1_core",
+                "@microsoft.bcl.asyncinterfaces//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp2.2_core",
+                "@microsoft.bcl.asyncinterfaces//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:net5.0_core",
+            ],
+            "net6.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.1/Microsoft.Extensions.DependencyInjection.dll",
+                "lib/netstandard2.1/Microsoft.Extensions.DependencyInjection.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.DependencyInjection.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.DependencyInjection.xml",
+            ],
+            "net5.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.DependencyInjection.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.DependencyInjection.xml",
+            ],
+            "net6.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.DependencyInjection.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.DependencyInjection.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "microsoft.extensions.logging",
+        package = "microsoft.extensions.logging",
+        version = "3.1.22",
+        sha256 = "8bf9cddfaa9a8f605996463adde58c946c89e4fdac5d05d37b7990e88a911f05",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Extensions.Logging.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Extensions.Logging.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Extensions.Logging.dll",
+            "netcoreapp3.0": "lib/netstandard2.0/Microsoft.Extensions.Logging.dll",
+            "netcoreapp3.1": "lib/netcoreapp3.1/Microsoft.Extensions.Logging.dll",
+            "net5.0": "lib/netcoreapp3.1/Microsoft.Extensions.Logging.dll",
+            "net6.0": "lib/netcoreapp3.1/Microsoft.Extensions.Logging.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@microsoft.extensions.configuration.binder//:netcoreapp2.0_core",
+                "@microsoft.extensions.dependencyinjection//:netcoreapp2.0_core",
+                "@microsoft.extensions.logging.abstractions//:netcoreapp2.0_core",
+                "@microsoft.extensions.options//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@microsoft.extensions.configuration.binder//:netcoreapp2.1_core",
+                "@microsoft.extensions.dependencyinjection//:netcoreapp2.1_core",
+                "@microsoft.extensions.logging.abstractions//:netcoreapp2.1_core",
+                "@microsoft.extensions.options//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@microsoft.extensions.configuration.binder//:netcoreapp2.2_core",
+                "@microsoft.extensions.dependencyinjection//:netcoreapp2.2_core",
+                "@microsoft.extensions.logging.abstractions//:netcoreapp2.2_core",
+                "@microsoft.extensions.options//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@microsoft.extensions.configuration.binder//:netcoreapp3.0_core",
+                "@microsoft.extensions.dependencyinjection//:netcoreapp3.0_core",
+                "@microsoft.extensions.logging.abstractions//:netcoreapp3.0_core",
+                "@microsoft.extensions.options//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@microsoft.extensions.configuration.binder//:netcoreapp3.1_core",
+                "@microsoft.extensions.dependencyinjection//:netcoreapp3.1_core",
+                "@microsoft.extensions.logging.abstractions//:netcoreapp3.1_core",
+                "@microsoft.extensions.options//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@microsoft.extensions.configuration.binder//:net5.0_core",
+                "@microsoft.extensions.dependencyinjection//:net5.0_core",
+                "@microsoft.extensions.logging.abstractions//:net5.0_core",
+                "@microsoft.extensions.options//:net5.0_core",
+            ],
+            "net6.0": [
+                "@microsoft.extensions.configuration.binder//:net6.0_core",
+                "@microsoft.extensions.dependencyinjection//:net6.0_core",
+                "@microsoft.extensions.logging.abstractions//:net6.0_core",
+                "@microsoft.extensions.options//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Logging.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Logging.xml",
+            ],
+            "net5.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Logging.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Logging.xml",
+            ],
+            "net6.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Logging.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Logging.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "microsoft.extensions.http",
+        package = "microsoft.extensions.http",
+        version = "3.1.22",
+        sha256 = "5000520a044921846001d10c9a363b74720b0236ed583c6cbd4c84f296c1bb7e",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Extensions.Http.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Extensions.Http.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Extensions.Http.dll",
+            "netcoreapp3.0": "lib/netstandard2.0/Microsoft.Extensions.Http.dll",
+            "netcoreapp3.1": "lib/netcoreapp3.1/Microsoft.Extensions.Http.dll",
+            "net5.0": "lib/netcoreapp3.1/Microsoft.Extensions.Http.dll",
+            "net6.0": "lib/netcoreapp3.1/Microsoft.Extensions.Http.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp2.0_core",
+                "@microsoft.extensions.logging//:netcoreapp2.0_core",
+                "@microsoft.extensions.options//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp2.1_core",
+                "@microsoft.extensions.logging//:netcoreapp2.1_core",
+                "@microsoft.extensions.options//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp2.2_core",
+                "@microsoft.extensions.logging//:netcoreapp2.2_core",
+                "@microsoft.extensions.options//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp3.0_core",
+                "@microsoft.extensions.logging//:netcoreapp3.0_core",
+                "@microsoft.extensions.options//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp3.1_core",
+                "@microsoft.extensions.logging//:netcoreapp3.1_core",
+                "@microsoft.extensions.options//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:net5.0_core",
+                "@microsoft.extensions.logging//:net5.0_core",
+                "@microsoft.extensions.options//:net5.0_core",
+            ],
+            "net6.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:net6.0_core",
+                "@microsoft.extensions.logging//:net6.0_core",
+                "@microsoft.extensions.options//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Http.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Http.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.Http.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Http.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Microsoft.Extensions.Http.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Http.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Http.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Http.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Http.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Http.xml",
+            ],
+            "net5.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Http.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Http.xml",
+            ],
+            "net6.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Http.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Http.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "grpc.net.clientfactory",
+        package = "grpc.net.clientfactory",
+        version = "2.42.0",
+        sha256 = "4670fd19285c50b3a2a761c99cf632f0eacfa760d9ae9ba973c2624b9cf69d5f",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Grpc.Net.ClientFactory.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Grpc.Net.ClientFactory.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Grpc.Net.ClientFactory.dll",
+            "netcoreapp3.0": "lib/netstandard2.1/Grpc.Net.ClientFactory.dll",
+            "netcoreapp3.1": "lib/netstandard2.1/Grpc.Net.ClientFactory.dll",
+            "net5.0": "lib/net5.0/Grpc.Net.ClientFactory.dll",
+            "net6.0": "lib/net6.0/Grpc.Net.ClientFactory.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@grpc.net.client//:netcoreapp2.0_core",
+                "@microsoft.extensions.http//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@grpc.net.client//:netcoreapp2.1_core",
+                "@microsoft.extensions.http//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@grpc.net.client//:netcoreapp2.2_core",
+                "@microsoft.extensions.http//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@grpc.net.client//:netcoreapp3.0_core",
+                "@microsoft.extensions.http//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@grpc.net.client//:netcoreapp3.1_core",
+                "@microsoft.extensions.http//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@grpc.net.client//:net5.0_core",
+                "@microsoft.extensions.http//:net5.0_core",
+            ],
+            "net6.0": [
+                "@grpc.net.client//:net6.0_core",
+                "@microsoft.extensions.http//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Grpc.Net.ClientFactory.dll",
+                "lib/netstandard2.0/Grpc.Net.ClientFactory.pdb",
+                "lib/netstandard2.0/Grpc.Net.ClientFactory.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Grpc.Net.ClientFactory.dll",
+                "lib/netstandard2.0/Grpc.Net.ClientFactory.pdb",
+                "lib/netstandard2.0/Grpc.Net.ClientFactory.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Grpc.Net.ClientFactory.dll",
+                "lib/netstandard2.0/Grpc.Net.ClientFactory.pdb",
+                "lib/netstandard2.0/Grpc.Net.ClientFactory.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.1/Grpc.Net.ClientFactory.dll",
+                "lib/netstandard2.1/Grpc.Net.ClientFactory.pdb",
+                "lib/netstandard2.1/Grpc.Net.ClientFactory.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netstandard2.1/Grpc.Net.ClientFactory.dll",
+                "lib/netstandard2.1/Grpc.Net.ClientFactory.pdb",
+                "lib/netstandard2.1/Grpc.Net.ClientFactory.xml",
+            ],
+            "net5.0": [
+                "lib/net5.0/Grpc.Net.ClientFactory.dll",
+                "lib/net5.0/Grpc.Net.ClientFactory.pdb",
+                "lib/net5.0/Grpc.Net.ClientFactory.xml",
+            ],
+            "net6.0": [
+                "lib/net6.0/Grpc.Net.ClientFactory.dll",
+                "lib/net6.0/Grpc.Net.ClientFactory.pdb",
+                "lib/net6.0/Grpc.Net.ClientFactory.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "grpc.aspnetcore.server.clientfactory",
+        package = "grpc.aspnetcore.server.clientfactory",
+        version = "2.42.0",
+        sha256 = "95c1bd8dae2548198547052bdceae72d70e4ec3ab08145386bc23622791a1872",
+        core_lib = {
+            "netcoreapp3.0": "lib/netcoreapp3.0/Grpc.AspNetCore.Server.ClientFactory.dll",
+            "netcoreapp3.1": "lib/netcoreapp3.0/Grpc.AspNetCore.Server.ClientFactory.dll",
+            "net5.0": "lib/net5.0/Grpc.AspNetCore.Server.ClientFactory.dll",
+            "net6.0": "lib/net6.0/Grpc.AspNetCore.Server.ClientFactory.dll",
+        },
+        core_deps = {
+            "netcoreapp3.0": [
+                "@grpc.aspnetcore.server//:netcoreapp3.0_core",
+                "@grpc.net.clientfactory//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@grpc.aspnetcore.server//:netcoreapp3.1_core",
+                "@grpc.net.clientfactory//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@grpc.aspnetcore.server//:net5.0_core",
+                "@grpc.net.clientfactory//:net5.0_core",
+            ],
+            "net6.0": [
+                "@grpc.aspnetcore.server//:net6.0_core",
+                "@grpc.net.clientfactory//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp3.0": [
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.ClientFactory.dll",
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.ClientFactory.pdb",
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.ClientFactory.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.ClientFactory.dll",
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.ClientFactory.pdb",
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.ClientFactory.xml",
+            ],
+            "net5.0": [
+                "lib/net5.0/Grpc.AspNetCore.Server.ClientFactory.dll",
+                "lib/net5.0/Grpc.AspNetCore.Server.ClientFactory.pdb",
+                "lib/net5.0/Grpc.AspNetCore.Server.ClientFactory.xml",
+            ],
+            "net6.0": [
+                "lib/net6.0/Grpc.AspNetCore.Server.ClientFactory.dll",
+                "lib/net6.0/Grpc.AspNetCore.Server.ClientFactory.pdb",
+                "lib/net6.0/Grpc.AspNetCore.Server.ClientFactory.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "grpc.aspnetcore",
+        package = "grpc.aspnetcore",
+        version = "2.42.0",
+        sha256 = "3e3277641eb34b7cf73c28a0c03f468f4ef4e8477bc1b4ef1e9b316fe72600bb",
+        core_deps = {
+            "netcoreapp3.0": [
+                "@grpc.aspnetcore.server.clientfactory//:netcoreapp3.0_core",
+                "@google.protobuf//:netcoreapp3.0_core",
+                "@grpc.tools//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@grpc.aspnetcore.server.clientfactory//:netcoreapp3.1_core",
+                "@google.protobuf//:netcoreapp3.1_core",
+                "@grpc.tools//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@grpc.aspnetcore.server.clientfactory//:net5.0_core",
+                "@google.protobuf//:net5.0_core",
+                "@grpc.tools//:net5.0_core",
+            ],
+            "net6.0": [
+                "@grpc.aspnetcore.server.clientfactory//:net6.0_core",
+                "@google.protobuf//:net6.0_core",
+                "@grpc.tools//:net6.0_core",
             ],
         },
     )
diff --git a/csharp/nuget/nuget.bzl.patch b/csharp/nuget/nuget.bzl.patch
deleted file mode 100644
index 2890df5f..00000000
--- a/csharp/nuget/nuget.bzl.patch
+++ /dev/null
@@ -1,6 +0,0 @@
-
-
-                # Patched in by regenerate_packages.sh
-                # Can't use select() here, so must just specify all
-                "runtimes/win-x64/native/grpc_csharp_ext.x64.dll",
-                "runtimes/win-x86/native/grpc_csharp_ext.x86.dll",
\ No newline at end of file
diff --git a/csharp/nuget/regenerate_packages.sh b/csharp/nuget/regenerate_packages.sh
index f70f5bfc..3f7d23c7 100755
--- a/csharp/nuget/regenerate_packages.sh
+++ b/csharp/nuget/regenerate_packages.sh
@@ -12,7 +12,8 @@ GRPC_VERSION="2.42.0"
 
 OUTPUT_DIR="$(pwd)/csharp/nuget"
 FILE_NAME="nuget.bzl"
-TOOL="bazel run --host_platform=@io_bazel_rules_dotnet//dotnet/toolchain:linux_amd64_5.0.201 --platforms=@io_bazel_rules_dotnet//dotnet/toolchain:linux_amd64_5.0.201 @io_bazel_rules_dotnet//tools/nuget2bazel:nuget2bazel.exe --"
+DOTNET_TOOLCHAIN="$(uname -sm | tr 'A-Z ' 'a-z_')_6.0.101"
+TOOL="bazel run --host_platform=@io_bazel_rules_dotnet//dotnet/toolchain:${DOTNET_TOOLCHAIN} --platforms=@io_bazel_rules_dotnet//dotnet/toolchain:${DOTNET_TOOLCHAIN} @io_bazel_rules_dotnet//tools/nuget2bazel:nuget2bazel.exe --"
 
 # Clear output files
 if [ -f "${OUTPUT_DIR}/${FILE_NAME}" ]; then
@@ -47,15 +48,13 @@ EOF
 
 # Add deps
 ${TOOL} add --path "${OUTPUT_DIR}" --indent --bazelfile "${FILE_NAME}" Google.Protobuf "${PROTOBUF_VERSION}"
-${TOOL} add --path "${OUTPUT_DIR}" --indent --bazelfile "${FILE_NAME}" Grpc "${GRPC_VERSION}"
+${TOOL} add --path "${OUTPUT_DIR}" --indent --bazelfile "${FILE_NAME}" Grpc.Net.Client "${GRPC_VERSION}"
+${TOOL} add --path "${OUTPUT_DIR}" --indent --bazelfile "${FILE_NAME}" Grpc.AspNetCore "${GRPC_VERSION}"
 
 # Clear packages directory
 if [ -d "${OUTPUT_DIR}/packages" ]; then
     rm -r "${OUTPUT_DIR}/packages"
 fi
 
-# Patch missing Grpc.Core runtimes into nuget_package
-cat "${OUTPUT_DIR}/${FILE_NAME}" | python3 -c "import sys; patch = open('${OUTPUT_DIR}/${FILE_NAME}.patch').read(); sys.stdout.write(sys.stdin.read().replace('Grpc.Core.xml\",', 'Grpc.Core.xml\",' + patch))" | sponge "${OUTPUT_DIR}/${FILE_NAME}"
-
 # Patch in buildifier fixes
 cat "${OUTPUT_DIR}/${FILE_NAME}" | python3 -c "import sys; sys.stdout.write('\"\"\"Generated nuget packages\"\"\"\n\n' + sys.stdin.read().replace('def nuget_rules_proto_grpc_packages():', 'def nuget_rules_proto_grpc_packages():\n    \"\"\"Nuget packages\"\"\"'))" | sponge "${OUTPUT_DIR}/${FILE_NAME}"
diff --git a/fsharp/example/routeguide/BUILD.bazel b/fsharp/example/routeguide/BUILD.bazel
index 40c5fb5c..c1e90fe8 100644
--- a/fsharp/example/routeguide/BUILD.bazel
+++ b/fsharp/example/routeguide/BUILD.bazel
@@ -28,7 +28,7 @@ fsharp_binary(
         ":routeguide.dll",
         ":util.dll",
         "@google.protobuf//:lib",
-        "@grpc.core//:lib",
+        "@grpc.net.client//:lib",
     ],
 )
 
@@ -43,6 +43,6 @@ fsharp_binary(
         ":routeguide.dll",
         ":util.dll",
         "@google.protobuf//:lib",
-        "@grpc.core//:lib",
+        "@grpc.aspnetcore//:lib",
     ],
 )
diff --git a/fsharp/example/routeguide/Client.fs b/fsharp/example/routeguide/Client.fs
index d1f04345..b9bbec33 100644
--- a/fsharp/example/routeguide/Client.fs
+++ b/fsharp/example/routeguide/Client.fs
@@ -1,6 +1,6 @@
 module Client
 
-open Grpc.Core
+open Grpc.Net.Client
 open System
 open System.Linq
 open System.Text
diff --git a/fsharp/fsharp_grpc_library.bzl b/fsharp/fsharp_grpc_library.bzl
index 317cfda0..956568dd 100644
--- a/fsharp/fsharp_grpc_library.bzl
+++ b/fsharp/fsharp_grpc_library.bzl
@@ -27,7 +27,7 @@ def fsharp_grpc_library(name, **kwargs):
 
 GRPC_DEPS = [
     "@google.protobuf//:lib",
-    "@grpc.core//:lib",
+    "@grpc.net.client//:lib",
     "@fsharp.core//:lib",
     "@protobuf.fsharp//:lib",
     "@core_sdk_stdlib//:libraryset",
diff --git a/fsharp/nuget/nuget.bzl b/fsharp/nuget/nuget.bzl
index ef13102d..a2012a2e 100644
--- a/fsharp/nuget/nuget.bzl
+++ b/fsharp/nuget/nuget.bzl
@@ -43,6 +43,7 @@ def nuget_rules_proto_grpc_packages():
             "netcoreapp3.0": "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.dll",
             "netcoreapp3.1": "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.dll",
             "net5.0": "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.dll",
+            "net6.0": "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.dll",
         },
         core_ref = {
             "netcoreapp2.0": "ref/netstandard2.0/System.Runtime.CompilerServices.Unsafe.dll",
@@ -51,6 +52,7 @@ def nuget_rules_proto_grpc_packages():
             "netcoreapp3.0": "ref/netstandard2.0/System.Runtime.CompilerServices.Unsafe.dll",
             "netcoreapp3.1": "ref/netstandard2.0/System.Runtime.CompilerServices.Unsafe.dll",
             "net5.0": "ref/netstandard2.0/System.Runtime.CompilerServices.Unsafe.dll",
+            "net6.0": "ref/netstandard2.0/System.Runtime.CompilerServices.Unsafe.dll",
         },
         core_files = {
             "netcoreapp2.0": [
@@ -77,15 +79,1015 @@ def nuget_rules_proto_grpc_packages():
                 "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.dll",
                 "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.xml",
             ],
+            "net6.0": [
+                "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.dll",
+                "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "system.memory",
+        package = "system.memory",
+        version = "4.5.4",
+        sha256 = "dec0847f33b8823e4260672d97d657411461c00ada3107ec7bbcb32a845eeb91",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/System.Memory.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@system.runtime.compilerservices.unsafe//:netcoreapp2.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/System.Memory.dll",
+                "lib/netstandard2.0/System.Memory.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "google.protobuf",
+        package = "google.protobuf",
+        version = "3.19.1",
+        sha256 = "57f962a32281c2c884ca3efbd2ead0eadae8c2ef619c105652d250312e671583",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Google.Protobuf.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Google.Protobuf.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Google.Protobuf.dll",
+            "netcoreapp3.0": "lib/netstandard2.0/Google.Protobuf.dll",
+            "netcoreapp3.1": "lib/netstandard2.0/Google.Protobuf.dll",
+            "net5.0": "lib/net5.0/Google.Protobuf.dll",
+            "net6.0": "lib/net5.0/Google.Protobuf.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@system.memory//:netcoreapp2.0_core",
+                "@system.runtime.compilerservices.unsafe//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@system.memory//:netcoreapp2.1_core",
+                "@system.runtime.compilerservices.unsafe//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@system.memory//:netcoreapp2.2_core",
+                "@system.runtime.compilerservices.unsafe//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@system.memory//:netcoreapp3.0_core",
+                "@system.runtime.compilerservices.unsafe//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@system.memory//:netcoreapp3.1_core",
+                "@system.runtime.compilerservices.unsafe//:netcoreapp3.1_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Google.Protobuf.dll",
+                "lib/netstandard2.0/Google.Protobuf.pdb",
+                "lib/netstandard2.0/Google.Protobuf.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Google.Protobuf.dll",
+                "lib/netstandard2.0/Google.Protobuf.pdb",
+                "lib/netstandard2.0/Google.Protobuf.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Google.Protobuf.dll",
+                "lib/netstandard2.0/Google.Protobuf.pdb",
+                "lib/netstandard2.0/Google.Protobuf.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.0/Google.Protobuf.dll",
+                "lib/netstandard2.0/Google.Protobuf.pdb",
+                "lib/netstandard2.0/Google.Protobuf.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netstandard2.0/Google.Protobuf.dll",
+                "lib/netstandard2.0/Google.Protobuf.pdb",
+                "lib/netstandard2.0/Google.Protobuf.xml",
+            ],
+            "net5.0": [
+                "lib/net5.0/Google.Protobuf.dll",
+                "lib/net5.0/Google.Protobuf.pdb",
+                "lib/net5.0/Google.Protobuf.xml",
+            ],
+            "net6.0": [
+                "lib/net5.0/Google.Protobuf.dll",
+                "lib/net5.0/Google.Protobuf.pdb",
+                "lib/net5.0/Google.Protobuf.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "microsoft.extensions.logging.abstractions",
+        package = "microsoft.extensions.logging.abstractions",
+        version = "3.1.22",
+        sha256 = "f75ab6fb93291688944fd7f45d44f75bb21a4f055f58ad5bae6db0935f578ac1",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+            "netcoreapp3.0": "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+            "netcoreapp3.1": "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+            "net5.0": "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+            "net6.0": "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.xml",
+            ],
+            "net5.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.xml",
+            ],
+            "net6.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.Abstractions.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "grpc.core.api",
+        package = "grpc.core.api",
+        version = "2.43.0",
+        sha256 = "12880d33af4b2706b009c09ce67a087520c0c23f7fb71fedf0eedb088e68dc2b",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Grpc.Core.Api.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Grpc.Core.Api.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Grpc.Core.Api.dll",
+            "netcoreapp3.0": "lib/netstandard2.0/Grpc.Core.Api.dll",
+            "netcoreapp3.1": "lib/netstandard2.0/Grpc.Core.Api.dll",
+            "net5.0": "lib/netstandard2.0/Grpc.Core.Api.dll",
+            "net6.0": "lib/netstandard2.0/Grpc.Core.Api.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@system.memory//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@system.memory//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@system.memory//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@system.memory//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@system.memory//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@system.memory//:net5.0_core",
+            ],
+            "net6.0": [
+                "@system.memory//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Grpc.Core.Api.dll",
+                "lib/netstandard2.0/Grpc.Core.Api.pdb",
+                "lib/netstandard2.0/Grpc.Core.Api.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Grpc.Core.Api.dll",
+                "lib/netstandard2.0/Grpc.Core.Api.pdb",
+                "lib/netstandard2.0/Grpc.Core.Api.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Grpc.Core.Api.dll",
+                "lib/netstandard2.0/Grpc.Core.Api.pdb",
+                "lib/netstandard2.0/Grpc.Core.Api.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.0/Grpc.Core.Api.dll",
+                "lib/netstandard2.0/Grpc.Core.Api.pdb",
+                "lib/netstandard2.0/Grpc.Core.Api.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netstandard2.0/Grpc.Core.Api.dll",
+                "lib/netstandard2.0/Grpc.Core.Api.pdb",
+                "lib/netstandard2.0/Grpc.Core.Api.xml",
+            ],
+            "net5.0": [
+                "lib/netstandard2.0/Grpc.Core.Api.dll",
+                "lib/netstandard2.0/Grpc.Core.Api.pdb",
+                "lib/netstandard2.0/Grpc.Core.Api.xml",
+            ],
+            "net6.0": [
+                "lib/netstandard2.0/Grpc.Core.Api.dll",
+                "lib/netstandard2.0/Grpc.Core.Api.pdb",
+                "lib/netstandard2.0/Grpc.Core.Api.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "grpc.net.common",
+        package = "grpc.net.common",
+        version = "2.42.0",
+        sha256 = "fd73e87ac6d101a56bce3a9a3977594d97998f3cbb16c606393f6757557e76e2",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Grpc.Net.Common.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Grpc.Net.Common.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Grpc.Net.Common.dll",
+            "netcoreapp3.0": "lib/netstandard2.1/Grpc.Net.Common.dll",
+            "netcoreapp3.1": "lib/netstandard2.1/Grpc.Net.Common.dll",
+            "net5.0": "lib/net5.0/Grpc.Net.Common.dll",
+            "net6.0": "lib/net6.0/Grpc.Net.Common.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@grpc.core.api//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@grpc.core.api//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@grpc.core.api//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@grpc.core.api//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@grpc.core.api//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@grpc.core.api//:net5.0_core",
+            ],
+            "net6.0": [
+                "@grpc.core.api//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Grpc.Net.Common.dll",
+                "lib/netstandard2.0/Grpc.Net.Common.pdb",
+                "lib/netstandard2.0/Grpc.Net.Common.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Grpc.Net.Common.dll",
+                "lib/netstandard2.0/Grpc.Net.Common.pdb",
+                "lib/netstandard2.0/Grpc.Net.Common.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Grpc.Net.Common.dll",
+                "lib/netstandard2.0/Grpc.Net.Common.pdb",
+                "lib/netstandard2.0/Grpc.Net.Common.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.1/Grpc.Net.Common.dll",
+                "lib/netstandard2.1/Grpc.Net.Common.pdb",
+                "lib/netstandard2.1/Grpc.Net.Common.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netstandard2.1/Grpc.Net.Common.dll",
+                "lib/netstandard2.1/Grpc.Net.Common.pdb",
+                "lib/netstandard2.1/Grpc.Net.Common.xml",
+            ],
+            "net5.0": [
+                "lib/net5.0/Grpc.Net.Common.dll",
+                "lib/net5.0/Grpc.Net.Common.pdb",
+                "lib/net5.0/Grpc.Net.Common.xml",
+            ],
+            "net6.0": [
+                "lib/net6.0/Grpc.Net.Common.dll",
+                "lib/net6.0/Grpc.Net.Common.pdb",
+                "lib/net6.0/Grpc.Net.Common.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "grpc.net.client",
+        package = "grpc.net.client",
+        version = "2.42.0",
+        sha256 = "8d98157251b29b114c1500ad0e6f7c045dac59085930cbc502412b2f0ad5f2ce",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Grpc.Net.Client.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Grpc.Net.Client.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Grpc.Net.Client.dll",
+            "netcoreapp3.0": "lib/netstandard2.1/Grpc.Net.Client.dll",
+            "netcoreapp3.1": "lib/netstandard2.1/Grpc.Net.Client.dll",
+            "net5.0": "lib/net5.0/Grpc.Net.Client.dll",
+            "net6.0": "lib/net6.0/Grpc.Net.Client.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@grpc.net.common//:netcoreapp2.0_core",
+                "@microsoft.extensions.logging.abstractions//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@grpc.net.common//:netcoreapp2.1_core",
+                "@microsoft.extensions.logging.abstractions//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@grpc.net.common//:netcoreapp2.2_core",
+                "@microsoft.extensions.logging.abstractions//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@grpc.net.common//:netcoreapp3.0_core",
+                "@microsoft.extensions.logging.abstractions//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@grpc.net.common//:netcoreapp3.1_core",
+                "@microsoft.extensions.logging.abstractions//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@grpc.net.common//:net5.0_core",
+                "@microsoft.extensions.logging.abstractions//:net5.0_core",
+            ],
+            "net6.0": [
+                "@grpc.net.common//:net6.0_core",
+                "@microsoft.extensions.logging.abstractions//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Grpc.Net.Client.dll",
+                "lib/netstandard2.0/Grpc.Net.Client.pdb",
+                "lib/netstandard2.0/Grpc.Net.Client.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Grpc.Net.Client.dll",
+                "lib/netstandard2.0/Grpc.Net.Client.pdb",
+                "lib/netstandard2.0/Grpc.Net.Client.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Grpc.Net.Client.dll",
+                "lib/netstandard2.0/Grpc.Net.Client.pdb",
+                "lib/netstandard2.0/Grpc.Net.Client.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.1/Grpc.Net.Client.dll",
+                "lib/netstandard2.1/Grpc.Net.Client.pdb",
+                "lib/netstandard2.1/Grpc.Net.Client.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netstandard2.1/Grpc.Net.Client.dll",
+                "lib/netstandard2.1/Grpc.Net.Client.pdb",
+                "lib/netstandard2.1/Grpc.Net.Client.xml",
+            ],
+            "net5.0": [
+                "lib/net5.0/Grpc.Net.Client.dll",
+                "lib/net5.0/Grpc.Net.Client.pdb",
+                "lib/net5.0/Grpc.Net.Client.xml",
+            ],
+            "net6.0": [
+                "lib/net6.0/Grpc.Net.Client.dll",
+                "lib/net6.0/Grpc.Net.Client.pdb",
+                "lib/net6.0/Grpc.Net.Client.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "grpc.tools",
+        package = "grpc.tools",
+        version = "2.43.0",
+        sha256 = "654ff8c902240a966a705a1cc06dde7a135687a31d365911b3979f719627e7fc",
+        core_files = {
+            "netcoreapp2.0": [
+                "tools/linux_arm64/grpc_csharp_plugin",
+                "tools/linux_arm64/protoc",
+                "tools/linux_x64/grpc_csharp_plugin",
+                "tools/linux_x64/protoc",
+                "tools/linux_x86/grpc_csharp_plugin",
+                "tools/linux_x86/protoc",
+                "tools/macosx_x64/grpc_csharp_plugin",
+                "tools/macosx_x64/protoc",
+                "tools/windows_x64/grpc_csharp_plugin.exe",
+                "tools/windows_x64/protoc.exe",
+                "tools/windows_x86/grpc_csharp_plugin.exe",
+                "tools/windows_x86/protoc.exe",
+                "build/Grpc.Tools.props",
+                "build/Grpc.Tools.targets",
+                "build/_grpc/Grpc.CSharp.xml",
+                "build/_grpc/_Grpc.Tools.props",
+                "build/_grpc/_Grpc.Tools.targets",
+                "build/_protobuf/Google.Protobuf.Tools.props",
+                "build/_protobuf/Google.Protobuf.Tools.targets",
+                "build/_protobuf/net45/Protobuf.MSBuild.dll",
+                "build/_protobuf/net45/Protobuf.MSBuild.pdb",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.dll",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.pdb",
+                "build/_protobuf/Protobuf.CSharp.xml",
+            ],
+            "netcoreapp2.1": [
+                "tools/linux_arm64/grpc_csharp_plugin",
+                "tools/linux_arm64/protoc",
+                "tools/linux_x64/grpc_csharp_plugin",
+                "tools/linux_x64/protoc",
+                "tools/linux_x86/grpc_csharp_plugin",
+                "tools/linux_x86/protoc",
+                "tools/macosx_x64/grpc_csharp_plugin",
+                "tools/macosx_x64/protoc",
+                "tools/windows_x64/grpc_csharp_plugin.exe",
+                "tools/windows_x64/protoc.exe",
+                "tools/windows_x86/grpc_csharp_plugin.exe",
+                "tools/windows_x86/protoc.exe",
+                "build/Grpc.Tools.props",
+                "build/Grpc.Tools.targets",
+                "build/_grpc/Grpc.CSharp.xml",
+                "build/_grpc/_Grpc.Tools.props",
+                "build/_grpc/_Grpc.Tools.targets",
+                "build/_protobuf/Google.Protobuf.Tools.props",
+                "build/_protobuf/Google.Protobuf.Tools.targets",
+                "build/_protobuf/net45/Protobuf.MSBuild.dll",
+                "build/_protobuf/net45/Protobuf.MSBuild.pdb",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.dll",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.pdb",
+                "build/_protobuf/Protobuf.CSharp.xml",
+            ],
+            "netcoreapp2.2": [
+                "tools/linux_arm64/grpc_csharp_plugin",
+                "tools/linux_arm64/protoc",
+                "tools/linux_x64/grpc_csharp_plugin",
+                "tools/linux_x64/protoc",
+                "tools/linux_x86/grpc_csharp_plugin",
+                "tools/linux_x86/protoc",
+                "tools/macosx_x64/grpc_csharp_plugin",
+                "tools/macosx_x64/protoc",
+                "tools/windows_x64/grpc_csharp_plugin.exe",
+                "tools/windows_x64/protoc.exe",
+                "tools/windows_x86/grpc_csharp_plugin.exe",
+                "tools/windows_x86/protoc.exe",
+                "build/Grpc.Tools.props",
+                "build/Grpc.Tools.targets",
+                "build/_grpc/Grpc.CSharp.xml",
+                "build/_grpc/_Grpc.Tools.props",
+                "build/_grpc/_Grpc.Tools.targets",
+                "build/_protobuf/Google.Protobuf.Tools.props",
+                "build/_protobuf/Google.Protobuf.Tools.targets",
+                "build/_protobuf/net45/Protobuf.MSBuild.dll",
+                "build/_protobuf/net45/Protobuf.MSBuild.pdb",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.dll",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.pdb",
+                "build/_protobuf/Protobuf.CSharp.xml",
+            ],
+            "netcoreapp3.0": [
+                "tools/linux_arm64/grpc_csharp_plugin",
+                "tools/linux_arm64/protoc",
+                "tools/linux_x64/grpc_csharp_plugin",
+                "tools/linux_x64/protoc",
+                "tools/linux_x86/grpc_csharp_plugin",
+                "tools/linux_x86/protoc",
+                "tools/macosx_x64/grpc_csharp_plugin",
+                "tools/macosx_x64/protoc",
+                "tools/windows_x64/grpc_csharp_plugin.exe",
+                "tools/windows_x64/protoc.exe",
+                "tools/windows_x86/grpc_csharp_plugin.exe",
+                "tools/windows_x86/protoc.exe",
+                "build/Grpc.Tools.props",
+                "build/Grpc.Tools.targets",
+                "build/_grpc/Grpc.CSharp.xml",
+                "build/_grpc/_Grpc.Tools.props",
+                "build/_grpc/_Grpc.Tools.targets",
+                "build/_protobuf/Google.Protobuf.Tools.props",
+                "build/_protobuf/Google.Protobuf.Tools.targets",
+                "build/_protobuf/net45/Protobuf.MSBuild.dll",
+                "build/_protobuf/net45/Protobuf.MSBuild.pdb",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.dll",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.pdb",
+                "build/_protobuf/Protobuf.CSharp.xml",
+            ],
+            "netcoreapp3.1": [
+                "tools/linux_arm64/grpc_csharp_plugin",
+                "tools/linux_arm64/protoc",
+                "tools/linux_x64/grpc_csharp_plugin",
+                "tools/linux_x64/protoc",
+                "tools/linux_x86/grpc_csharp_plugin",
+                "tools/linux_x86/protoc",
+                "tools/macosx_x64/grpc_csharp_plugin",
+                "tools/macosx_x64/protoc",
+                "tools/windows_x64/grpc_csharp_plugin.exe",
+                "tools/windows_x64/protoc.exe",
+                "tools/windows_x86/grpc_csharp_plugin.exe",
+                "tools/windows_x86/protoc.exe",
+                "build/Grpc.Tools.props",
+                "build/Grpc.Tools.targets",
+                "build/_grpc/Grpc.CSharp.xml",
+                "build/_grpc/_Grpc.Tools.props",
+                "build/_grpc/_Grpc.Tools.targets",
+                "build/_protobuf/Google.Protobuf.Tools.props",
+                "build/_protobuf/Google.Protobuf.Tools.targets",
+                "build/_protobuf/net45/Protobuf.MSBuild.dll",
+                "build/_protobuf/net45/Protobuf.MSBuild.pdb",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.dll",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.pdb",
+                "build/_protobuf/Protobuf.CSharp.xml",
+            ],
+            "net5.0": [
+                "tools/linux_arm64/grpc_csharp_plugin",
+                "tools/linux_arm64/protoc",
+                "tools/linux_x64/grpc_csharp_plugin",
+                "tools/linux_x64/protoc",
+                "tools/linux_x86/grpc_csharp_plugin",
+                "tools/linux_x86/protoc",
+                "tools/macosx_x64/grpc_csharp_plugin",
+                "tools/macosx_x64/protoc",
+                "tools/windows_x64/grpc_csharp_plugin.exe",
+                "tools/windows_x64/protoc.exe",
+                "tools/windows_x86/grpc_csharp_plugin.exe",
+                "tools/windows_x86/protoc.exe",
+                "build/Grpc.Tools.props",
+                "build/Grpc.Tools.targets",
+                "build/_grpc/Grpc.CSharp.xml",
+                "build/_grpc/_Grpc.Tools.props",
+                "build/_grpc/_Grpc.Tools.targets",
+                "build/_protobuf/Google.Protobuf.Tools.props",
+                "build/_protobuf/Google.Protobuf.Tools.targets",
+                "build/_protobuf/net45/Protobuf.MSBuild.dll",
+                "build/_protobuf/net45/Protobuf.MSBuild.pdb",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.dll",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.pdb",
+                "build/_protobuf/Protobuf.CSharp.xml",
+            ],
+            "net6.0": [
+                "tools/linux_arm64/grpc_csharp_plugin",
+                "tools/linux_arm64/protoc",
+                "tools/linux_x64/grpc_csharp_plugin",
+                "tools/linux_x64/protoc",
+                "tools/linux_x86/grpc_csharp_plugin",
+                "tools/linux_x86/protoc",
+                "tools/macosx_x64/grpc_csharp_plugin",
+                "tools/macosx_x64/protoc",
+                "tools/windows_x64/grpc_csharp_plugin.exe",
+                "tools/windows_x64/protoc.exe",
+                "tools/windows_x86/grpc_csharp_plugin.exe",
+                "tools/windows_x86/protoc.exe",
+                "build/Grpc.Tools.props",
+                "build/Grpc.Tools.targets",
+                "build/_grpc/Grpc.CSharp.xml",
+                "build/_grpc/_Grpc.Tools.props",
+                "build/_grpc/_Grpc.Tools.targets",
+                "build/_protobuf/Google.Protobuf.Tools.props",
+                "build/_protobuf/Google.Protobuf.Tools.targets",
+                "build/_protobuf/net45/Protobuf.MSBuild.dll",
+                "build/_protobuf/net45/Protobuf.MSBuild.pdb",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.dll",
+                "build/_protobuf/netstandard1.3/Protobuf.MSBuild.pdb",
+                "build/_protobuf/Protobuf.CSharp.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "microsoft.extensions.dependencyinjection.abstractions",
+        package = "microsoft.extensions.dependencyinjection.abstractions",
+        version = "3.1.22",
+        sha256 = "a1bc01cf5bcf789bad3f8184629e27ada242a245e05f9ded57631b63b7aa3e4b",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+            "netcoreapp3.0": "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+            "netcoreapp3.1": "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+            "net5.0": "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+            "net6.0": "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.xml",
+            ],
+            "net5.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.xml",
+            ],
+            "net6.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.Abstractions.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "microsoft.extensions.primitives",
+        package = "microsoft.extensions.primitives",
+        version = "3.1.22",
+        sha256 = "2468d8821ed9815707bd0d44e6c6a54785b6de5ee03fa21cd76d154965842daa",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Extensions.Primitives.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Extensions.Primitives.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Extensions.Primitives.dll",
+            "netcoreapp3.0": "lib/netstandard2.0/Microsoft.Extensions.Primitives.dll",
+            "netcoreapp3.1": "lib/netcoreapp3.1/Microsoft.Extensions.Primitives.dll",
+            "net5.0": "lib/netcoreapp3.1/Microsoft.Extensions.Primitives.dll",
+            "net6.0": "lib/netcoreapp3.1/Microsoft.Extensions.Primitives.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@system.memory//:netcoreapp2.0_core",
+                "@system.runtime.compilerservices.unsafe//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@system.memory//:netcoreapp2.1_core",
+                "@system.runtime.compilerservices.unsafe//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@system.memory//:netcoreapp2.2_core",
+                "@system.runtime.compilerservices.unsafe//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@system.memory//:netcoreapp3.0_core",
+                "@system.runtime.compilerservices.unsafe//:netcoreapp3.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Primitives.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Primitives.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.Primitives.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Primitives.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Microsoft.Extensions.Primitives.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Primitives.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Primitives.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Primitives.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Primitives.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Primitives.xml",
+            ],
+            "net5.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Primitives.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Primitives.xml",
+            ],
+            "net6.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Primitives.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Primitives.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "microsoft.extensions.configuration.abstractions",
+        package = "microsoft.extensions.configuration.abstractions",
+        version = "3.1.22",
+        sha256 = "cef302e41297c4a89768015f399a324a05a0d807381bd6f77f7f15657796c7d8",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.dll",
+            "netcoreapp3.0": "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.dll",
+            "netcoreapp3.1": "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Abstractions.dll",
+            "net5.0": "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Abstractions.dll",
+            "net6.0": "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Abstractions.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@microsoft.extensions.primitives//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@microsoft.extensions.primitives//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@microsoft.extensions.primitives//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@microsoft.extensions.primitives//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@microsoft.extensions.primitives//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@microsoft.extensions.primitives//:net5.0_core",
+            ],
+            "net6.0": [
+                "@microsoft.extensions.primitives//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Abstractions.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Abstractions.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Abstractions.xml",
+            ],
+            "net5.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Abstractions.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Abstractions.xml",
+            ],
+            "net6.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Abstractions.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Abstractions.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "microsoft.extensions.configuration",
+        package = "microsoft.extensions.configuration",
+        version = "3.1.22",
+        sha256 = "20032b44ff095956617a0ffc157aee8a61ea1cb5b63e75b32b0f28b780f33bba",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Extensions.Configuration.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Extensions.Configuration.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Extensions.Configuration.dll",
+            "netcoreapp3.0": "lib/netstandard2.0/Microsoft.Extensions.Configuration.dll",
+            "netcoreapp3.1": "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.dll",
+            "net5.0": "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.dll",
+            "net6.0": "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@microsoft.extensions.configuration.abstractions//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@microsoft.extensions.configuration.abstractions//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@microsoft.extensions.configuration.abstractions//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@microsoft.extensions.configuration.abstractions//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@microsoft.extensions.configuration.abstractions//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@microsoft.extensions.configuration.abstractions//:net5.0_core",
+            ],
+            "net6.0": [
+                "@microsoft.extensions.configuration.abstractions//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.xml",
+            ],
+            "net5.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.xml",
+            ],
+            "net6.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "microsoft.extensions.configuration.binder",
+        package = "microsoft.extensions.configuration.binder",
+        version = "3.1.22",
+        sha256 = "2713d14d522961b9a0fdf44bb661822331977291434d07ec6c375549ab9fe70f",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.dll",
+            "netcoreapp3.0": "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.dll",
+            "netcoreapp3.1": "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Binder.dll",
+            "net5.0": "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Binder.dll",
+            "net6.0": "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Binder.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@microsoft.extensions.configuration//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@microsoft.extensions.configuration//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@microsoft.extensions.configuration//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@microsoft.extensions.configuration//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@microsoft.extensions.configuration//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@microsoft.extensions.configuration//:net5.0_core",
+            ],
+            "net6.0": [
+                "@microsoft.extensions.configuration//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Configuration.Binder.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Binder.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Binder.xml",
+            ],
+            "net5.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Binder.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Binder.xml",
+            ],
+            "net6.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Binder.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Configuration.Binder.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "microsoft.extensions.options",
+        package = "microsoft.extensions.options",
+        version = "3.1.22",
+        sha256 = "96d4a52d547ee7e9947edbfbc6c9d56d9504e2af34566efc05b45be282d4cfb3",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Extensions.Options.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Extensions.Options.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Extensions.Options.dll",
+            "netcoreapp3.0": "lib/netstandard2.0/Microsoft.Extensions.Options.dll",
+            "netcoreapp3.1": "lib/netcoreapp3.1/Microsoft.Extensions.Options.dll",
+            "net5.0": "lib/netcoreapp3.1/Microsoft.Extensions.Options.dll",
+            "net6.0": "lib/netcoreapp3.1/Microsoft.Extensions.Options.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp2.0_core",
+                "@microsoft.extensions.primitives//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp2.1_core",
+                "@microsoft.extensions.primitives//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp2.2_core",
+                "@microsoft.extensions.primitives//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp3.0_core",
+                "@microsoft.extensions.primitives//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp3.1_core",
+                "@microsoft.extensions.primitives//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:net5.0_core",
+                "@microsoft.extensions.primitives//:net5.0_core",
+            ],
+            "net6.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:net6.0_core",
+                "@microsoft.extensions.primitives//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Options.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Options.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.Options.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Options.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Microsoft.Extensions.Options.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Options.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Options.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Options.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Options.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Options.xml",
+            ],
+            "net5.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Options.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Options.xml",
+            ],
+            "net6.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Options.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Options.xml",
+            ],
         },
     )
     nuget_package(
-        name = "system.memory",
-        package = "system.memory",
+        name = "grpc.aspnetcore.server",
+        package = "grpc.aspnetcore.server",
+        version = "2.42.0",
+        sha256 = "1fb389b48612dee3cf5b5cafa90aa31755c9baeec5559ca2b6c776fe081f9e7d",
+        core_lib = {
+            "netcoreapp3.0": "lib/netcoreapp3.0/Grpc.AspNetCore.Server.dll",
+            "netcoreapp3.1": "lib/netcoreapp3.0/Grpc.AspNetCore.Server.dll",
+            "net5.0": "lib/net5.0/Grpc.AspNetCore.Server.dll",
+            "net6.0": "lib/net6.0/Grpc.AspNetCore.Server.dll",
+        },
+        core_deps = {
+            "netcoreapp3.0": [
+                "@grpc.net.common//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@grpc.net.common//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@grpc.net.common//:net5.0_core",
+            ],
+            "net6.0": [
+                "@grpc.net.common//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp3.0": [
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.dll",
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.pdb",
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.dll",
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.pdb",
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.xml",
+            ],
+            "net5.0": [
+                "lib/net5.0/Grpc.AspNetCore.Server.dll",
+                "lib/net5.0/Grpc.AspNetCore.Server.pdb",
+                "lib/net5.0/Grpc.AspNetCore.Server.xml",
+            ],
+            "net6.0": [
+                "lib/net6.0/Grpc.AspNetCore.Server.dll",
+                "lib/net6.0/Grpc.AspNetCore.Server.pdb",
+                "lib/net6.0/Grpc.AspNetCore.Server.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "system.threading.tasks.extensions",
+        package = "system.threading.tasks.extensions",
         version = "4.5.4",
-        sha256 = "dec0847f33b8823e4260672d97d657411461c00ada3107ec7bbcb32a845eeb91",
+        sha256 = "a304a963cc0796c5179f9c6b7d8022bbce3b2fa7c029eb6196f631f7b462d678",
         core_lib = {
-            "netcoreapp2.0": "lib/netstandard2.0/System.Memory.dll",
+            "netcoreapp2.0": "lib/netstandard2.0/System.Threading.Tasks.Extensions.dll",
         },
         core_deps = {
             "netcoreapp2.0": [
@@ -94,288 +1096,471 @@ def nuget_rules_proto_grpc_packages():
         },
         core_files = {
             "netcoreapp2.0": [
-                "lib/netstandard2.0/System.Memory.dll",
-                "lib/netstandard2.0/System.Memory.xml",
+                "lib/netstandard2.0/System.Threading.Tasks.Extensions.dll",
+                "lib/netstandard2.0/System.Threading.Tasks.Extensions.xml",
             ],
         },
     )
     nuget_package(
-        name = "google.protobuf",
-        package = "google.protobuf",
-        version = "3.19.1",
-        sha256 = "57f962a32281c2c884ca3efbd2ead0eadae8c2ef619c105652d250312e671583",
+        name = "microsoft.bcl.asyncinterfaces",
+        package = "microsoft.bcl.asyncinterfaces",
+        version = "1.1.1",
+        sha256 = "7c0717e2cc44d2f79633509906d5d1fd49e4cbeeac137df2ad5ee886b5862a28",
         core_lib = {
-            "netcoreapp2.0": "lib/netstandard2.0/Google.Protobuf.dll",
-            "netcoreapp2.1": "lib/netstandard2.0/Google.Protobuf.dll",
-            "netcoreapp2.2": "lib/netstandard2.0/Google.Protobuf.dll",
-            "netcoreapp3.0": "lib/netstandard2.0/Google.Protobuf.dll",
-            "netcoreapp3.1": "lib/netstandard2.0/Google.Protobuf.dll",
-            "net5.0": "lib/net5.0/Google.Protobuf.dll",
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.dll",
+            "netcoreapp3.0": "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+            "netcoreapp3.1": "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+            "net5.0": "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+            "net6.0": "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+        },
+        core_ref = {
+            "netcoreapp2.0": "ref/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.dll",
+            "netcoreapp2.1": "ref/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.dll",
+            "netcoreapp2.2": "ref/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.dll",
+            "netcoreapp3.0": "ref/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+            "netcoreapp3.1": "ref/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+            "net5.0": "ref/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+            "net6.0": "ref/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
         },
         core_deps = {
             "netcoreapp2.0": [
-                "@system.memory//:netcoreapp2.0_core",
-                "@system.runtime.compilerservices.unsafe//:netcoreapp2.0_core",
+                "@system.threading.tasks.extensions//:netcoreapp2.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.dll",
+                "lib/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.xml",
             ],
             "netcoreapp2.1": [
-                "@system.memory//:netcoreapp2.1_core",
-                "@system.runtime.compilerservices.unsafe//:netcoreapp2.1_core",
+                "lib/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.dll",
+                "lib/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.xml",
             ],
             "netcoreapp2.2": [
-                "@system.memory//:netcoreapp2.2_core",
-                "@system.runtime.compilerservices.unsafe//:netcoreapp2.2_core",
+                "lib/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.dll",
+                "lib/netstandard2.0/Microsoft.Bcl.AsyncInterfaces.xml",
             ],
             "netcoreapp3.0": [
-                "@system.memory//:netcoreapp3.0_core",
-                "@system.runtime.compilerservices.unsafe//:netcoreapp3.0_core",
+                "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+                "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.xml",
             ],
             "netcoreapp3.1": [
-                "@system.memory//:netcoreapp3.1_core",
-                "@system.runtime.compilerservices.unsafe//:netcoreapp3.1_core",
+                "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+                "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.xml",
+            ],
+            "net5.0": [
+                "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+                "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.xml",
+            ],
+            "net6.0": [
+                "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.dll",
+                "lib/netstandard2.1/Microsoft.Bcl.AsyncInterfaces.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "microsoft.extensions.dependencyinjection",
+        package = "microsoft.extensions.dependencyinjection",
+        version = "3.1.22",
+        sha256 = "da19102d8302120c1ae3fff3db012f5a2de4c581197a9bc8165dea28076f288c",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.dll",
+            "netcoreapp3.0": "lib/netstandard2.1/Microsoft.Extensions.DependencyInjection.dll",
+            "netcoreapp3.1": "lib/netcoreapp3.1/Microsoft.Extensions.DependencyInjection.dll",
+            "net5.0": "lib/netcoreapp3.1/Microsoft.Extensions.DependencyInjection.dll",
+            "net6.0": "lib/netcoreapp3.1/Microsoft.Extensions.DependencyInjection.dll",
+        },
+        core_deps = {
+            "netcoreapp2.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp2.0_core",
+                "@microsoft.bcl.asyncinterfaces//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp2.1_core",
+                "@microsoft.bcl.asyncinterfaces//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp2.2_core",
+                "@microsoft.bcl.asyncinterfaces//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:net5.0_core",
+            ],
+            "net6.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:net6.0_core",
             ],
         },
         core_files = {
             "netcoreapp2.0": [
-                "lib/netstandard2.0/Google.Protobuf.dll",
-                "lib/netstandard2.0/Google.Protobuf.pdb",
-                "lib/netstandard2.0/Google.Protobuf.xml",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.xml",
             ],
             "netcoreapp2.1": [
-                "lib/netstandard2.0/Google.Protobuf.dll",
-                "lib/netstandard2.0/Google.Protobuf.pdb",
-                "lib/netstandard2.0/Google.Protobuf.xml",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.xml",
             ],
             "netcoreapp2.2": [
-                "lib/netstandard2.0/Google.Protobuf.dll",
-                "lib/netstandard2.0/Google.Protobuf.pdb",
-                "lib/netstandard2.0/Google.Protobuf.xml",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.DependencyInjection.xml",
             ],
             "netcoreapp3.0": [
-                "lib/netstandard2.0/Google.Protobuf.dll",
-                "lib/netstandard2.0/Google.Protobuf.pdb",
-                "lib/netstandard2.0/Google.Protobuf.xml",
+                "lib/netstandard2.1/Microsoft.Extensions.DependencyInjection.dll",
+                "lib/netstandard2.1/Microsoft.Extensions.DependencyInjection.xml",
             ],
             "netcoreapp3.1": [
-                "lib/netstandard2.0/Google.Protobuf.dll",
-                "lib/netstandard2.0/Google.Protobuf.pdb",
-                "lib/netstandard2.0/Google.Protobuf.xml",
+                "lib/netcoreapp3.1/Microsoft.Extensions.DependencyInjection.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.DependencyInjection.xml",
             ],
             "net5.0": [
-                "lib/net5.0/Google.Protobuf.dll",
-                "lib/net5.0/Google.Protobuf.pdb",
-                "lib/net5.0/Google.Protobuf.xml",
+                "lib/netcoreapp3.1/Microsoft.Extensions.DependencyInjection.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.DependencyInjection.xml",
+            ],
+            "net6.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.DependencyInjection.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.DependencyInjection.xml",
             ],
         },
     )
     nuget_package(
-        name = "grpc.core.api",
-        package = "grpc.core.api",
-        version = "2.42.0",
-        sha256 = "e8c12e9d1e4dddbce1d4ea1c7c27f3599c94d5ad18e5ef08c836de02d94f0d07",
+        name = "microsoft.extensions.logging",
+        package = "microsoft.extensions.logging",
+        version = "3.1.22",
+        sha256 = "8bf9cddfaa9a8f605996463adde58c946c89e4fdac5d05d37b7990e88a911f05",
         core_lib = {
-            "netcoreapp2.0": "lib/netstandard2.0/Grpc.Core.Api.dll",
-            "netcoreapp2.1": "lib/netstandard2.0/Grpc.Core.Api.dll",
-            "netcoreapp2.2": "lib/netstandard2.0/Grpc.Core.Api.dll",
-            "netcoreapp3.0": "lib/netstandard2.0/Grpc.Core.Api.dll",
-            "netcoreapp3.1": "lib/netstandard2.0/Grpc.Core.Api.dll",
-            "net5.0": "lib/netstandard2.0/Grpc.Core.Api.dll",
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Extensions.Logging.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Extensions.Logging.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Extensions.Logging.dll",
+            "netcoreapp3.0": "lib/netstandard2.0/Microsoft.Extensions.Logging.dll",
+            "netcoreapp3.1": "lib/netcoreapp3.1/Microsoft.Extensions.Logging.dll",
+            "net5.0": "lib/netcoreapp3.1/Microsoft.Extensions.Logging.dll",
+            "net6.0": "lib/netcoreapp3.1/Microsoft.Extensions.Logging.dll",
         },
         core_deps = {
             "netcoreapp2.0": [
-                "@system.memory//:netcoreapp2.0_core",
+                "@microsoft.extensions.configuration.binder//:netcoreapp2.0_core",
+                "@microsoft.extensions.dependencyinjection//:netcoreapp2.0_core",
+                "@microsoft.extensions.logging.abstractions//:netcoreapp2.0_core",
+                "@microsoft.extensions.options//:netcoreapp2.0_core",
             ],
             "netcoreapp2.1": [
-                "@system.memory//:netcoreapp2.1_core",
+                "@microsoft.extensions.configuration.binder//:netcoreapp2.1_core",
+                "@microsoft.extensions.dependencyinjection//:netcoreapp2.1_core",
+                "@microsoft.extensions.logging.abstractions//:netcoreapp2.1_core",
+                "@microsoft.extensions.options//:netcoreapp2.1_core",
             ],
             "netcoreapp2.2": [
-                "@system.memory//:netcoreapp2.2_core",
+                "@microsoft.extensions.configuration.binder//:netcoreapp2.2_core",
+                "@microsoft.extensions.dependencyinjection//:netcoreapp2.2_core",
+                "@microsoft.extensions.logging.abstractions//:netcoreapp2.2_core",
+                "@microsoft.extensions.options//:netcoreapp2.2_core",
             ],
             "netcoreapp3.0": [
-                "@system.memory//:netcoreapp3.0_core",
+                "@microsoft.extensions.configuration.binder//:netcoreapp3.0_core",
+                "@microsoft.extensions.dependencyinjection//:netcoreapp3.0_core",
+                "@microsoft.extensions.logging.abstractions//:netcoreapp3.0_core",
+                "@microsoft.extensions.options//:netcoreapp3.0_core",
             ],
             "netcoreapp3.1": [
-                "@system.memory//:netcoreapp3.1_core",
+                "@microsoft.extensions.configuration.binder//:netcoreapp3.1_core",
+                "@microsoft.extensions.dependencyinjection//:netcoreapp3.1_core",
+                "@microsoft.extensions.logging.abstractions//:netcoreapp3.1_core",
+                "@microsoft.extensions.options//:netcoreapp3.1_core",
             ],
             "net5.0": [
-                "@system.memory//:net5.0_core",
+                "@microsoft.extensions.configuration.binder//:net5.0_core",
+                "@microsoft.extensions.dependencyinjection//:net5.0_core",
+                "@microsoft.extensions.logging.abstractions//:net5.0_core",
+                "@microsoft.extensions.options//:net5.0_core",
+            ],
+            "net6.0": [
+                "@microsoft.extensions.configuration.binder//:net6.0_core",
+                "@microsoft.extensions.dependencyinjection//:net6.0_core",
+                "@microsoft.extensions.logging.abstractions//:net6.0_core",
+                "@microsoft.extensions.options//:net6.0_core",
             ],
         },
         core_files = {
             "netcoreapp2.0": [
-                "lib/netstandard2.0/Grpc.Core.Api.dll",
-                "lib/netstandard2.0/Grpc.Core.Api.pdb",
-                "lib/netstandard2.0/Grpc.Core.Api.xml",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.xml",
             ],
             "netcoreapp2.1": [
-                "lib/netstandard2.0/Grpc.Core.Api.dll",
-                "lib/netstandard2.0/Grpc.Core.Api.pdb",
-                "lib/netstandard2.0/Grpc.Core.Api.xml",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.xml",
             ],
             "netcoreapp2.2": [
-                "lib/netstandard2.0/Grpc.Core.Api.dll",
-                "lib/netstandard2.0/Grpc.Core.Api.pdb",
-                "lib/netstandard2.0/Grpc.Core.Api.xml",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.xml",
             ],
             "netcoreapp3.0": [
-                "lib/netstandard2.0/Grpc.Core.Api.dll",
-                "lib/netstandard2.0/Grpc.Core.Api.pdb",
-                "lib/netstandard2.0/Grpc.Core.Api.xml",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Logging.xml",
             ],
             "netcoreapp3.1": [
-                "lib/netstandard2.0/Grpc.Core.Api.dll",
-                "lib/netstandard2.0/Grpc.Core.Api.pdb",
-                "lib/netstandard2.0/Grpc.Core.Api.xml",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Logging.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Logging.xml",
             ],
             "net5.0": [
-                "lib/netstandard2.0/Grpc.Core.Api.dll",
-                "lib/netstandard2.0/Grpc.Core.Api.pdb",
-                "lib/netstandard2.0/Grpc.Core.Api.xml",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Logging.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Logging.xml",
+            ],
+            "net6.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Logging.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Logging.xml",
             ],
         },
     )
     nuget_package(
-        name = "grpc.core",
-        package = "grpc.core",
-        version = "2.42.0",
-        sha256 = "7180cc7b1cdc5f60885e2a17f2ecc5dcdb9eb737f917214309c1eb04e0d8e4cb",
+        name = "microsoft.extensions.http",
+        package = "microsoft.extensions.http",
+        version = "3.1.22",
+        sha256 = "5000520a044921846001d10c9a363b74720b0236ed583c6cbd4c84f296c1bb7e",
         core_lib = {
-            "netcoreapp2.0": "lib/netstandard2.0/Grpc.Core.dll",
-            "netcoreapp2.1": "lib/netstandard2.0/Grpc.Core.dll",
-            "netcoreapp2.2": "lib/netstandard2.0/Grpc.Core.dll",
-            "netcoreapp3.0": "lib/netstandard2.0/Grpc.Core.dll",
-            "netcoreapp3.1": "lib/netstandard2.0/Grpc.Core.dll",
-            "net5.0": "lib/netstandard2.0/Grpc.Core.dll",
+            "netcoreapp2.0": "lib/netstandard2.0/Microsoft.Extensions.Http.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Microsoft.Extensions.Http.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Microsoft.Extensions.Http.dll",
+            "netcoreapp3.0": "lib/netstandard2.0/Microsoft.Extensions.Http.dll",
+            "netcoreapp3.1": "lib/netcoreapp3.1/Microsoft.Extensions.Http.dll",
+            "net5.0": "lib/netcoreapp3.1/Microsoft.Extensions.Http.dll",
+            "net6.0": "lib/netcoreapp3.1/Microsoft.Extensions.Http.dll",
         },
         core_deps = {
             "netcoreapp2.0": [
-                "@grpc.core.api//:netcoreapp2.0_core",
-                "@system.memory//:netcoreapp2.0_core",
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp2.0_core",
+                "@microsoft.extensions.logging//:netcoreapp2.0_core",
+                "@microsoft.extensions.options//:netcoreapp2.0_core",
             ],
             "netcoreapp2.1": [
-                "@grpc.core.api//:netcoreapp2.1_core",
-                "@system.memory//:netcoreapp2.1_core",
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp2.1_core",
+                "@microsoft.extensions.logging//:netcoreapp2.1_core",
+                "@microsoft.extensions.options//:netcoreapp2.1_core",
             ],
             "netcoreapp2.2": [
-                "@grpc.core.api//:netcoreapp2.2_core",
-                "@system.memory//:netcoreapp2.2_core",
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp2.2_core",
+                "@microsoft.extensions.logging//:netcoreapp2.2_core",
+                "@microsoft.extensions.options//:netcoreapp2.2_core",
             ],
             "netcoreapp3.0": [
-                "@grpc.core.api//:netcoreapp3.0_core",
-                "@system.memory//:netcoreapp3.0_core",
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp3.0_core",
+                "@microsoft.extensions.logging//:netcoreapp3.0_core",
+                "@microsoft.extensions.options//:netcoreapp3.0_core",
             ],
             "netcoreapp3.1": [
-                "@grpc.core.api//:netcoreapp3.1_core",
-                "@system.memory//:netcoreapp3.1_core",
+                "@microsoft.extensions.dependencyinjection.abstractions//:netcoreapp3.1_core",
+                "@microsoft.extensions.logging//:netcoreapp3.1_core",
+                "@microsoft.extensions.options//:netcoreapp3.1_core",
             ],
             "net5.0": [
-                "@grpc.core.api//:net5.0_core",
-                "@system.memory//:net5.0_core",
+                "@microsoft.extensions.dependencyinjection.abstractions//:net5.0_core",
+                "@microsoft.extensions.logging//:net5.0_core",
+                "@microsoft.extensions.options//:net5.0_core",
+            ],
+            "net6.0": [
+                "@microsoft.extensions.dependencyinjection.abstractions//:net6.0_core",
+                "@microsoft.extensions.logging//:net6.0_core",
+                "@microsoft.extensions.options//:net6.0_core",
             ],
         },
         core_files = {
             "netcoreapp2.0": [
-                "lib/netstandard2.0/Grpc.Core.dll",
-                "lib/netstandard2.0/Grpc.Core.pdb",
-                "lib/netstandard2.0/Grpc.Core.xml",
-
-                # Patched in by regenerate_packages.sh
-                # Can't use select() here, so must just specify all
-                "runtimes/win-x64/native/grpc_csharp_ext.x64.dll",
-                "runtimes/win-x86/native/grpc_csharp_ext.x86.dll",
-                "runtimes/linux-arm64/native/libgrpc_csharp_ext.arm64.so",
-                "runtimes/linux-x64/native/libgrpc_csharp_ext.x64.so",
-                "runtimes/osx-x64/native/libgrpc_csharp_ext.x64.dylib",
-            ],
-            "netcoreapp2.1": [
-                "lib/netstandard2.0/Grpc.Core.dll",
-                "lib/netstandard2.0/Grpc.Core.pdb",
-                "lib/netstandard2.0/Grpc.Core.xml",
-
-                # Patched in by regenerate_packages.sh
-                # Can't use select() here, so must just specify all
-                "runtimes/win-x64/native/grpc_csharp_ext.x64.dll",
-                "runtimes/win-x86/native/grpc_csharp_ext.x86.dll",
-                "runtimes/linux-arm64/native/libgrpc_csharp_ext.arm64.so",
-                "runtimes/linux-x64/native/libgrpc_csharp_ext.x64.so",
-                "runtimes/osx-x64/native/libgrpc_csharp_ext.x64.dylib",
-            ],
-            "netcoreapp2.2": [
-                "lib/netstandard2.0/Grpc.Core.dll",
-                "lib/netstandard2.0/Grpc.Core.pdb",
-                "lib/netstandard2.0/Grpc.Core.xml",
-
-                # Patched in by regenerate_packages.sh
-                # Can't use select() here, so must just specify all
-                "runtimes/win-x64/native/grpc_csharp_ext.x64.dll",
-                "runtimes/win-x86/native/grpc_csharp_ext.x86.dll",
-                "runtimes/linux-arm64/native/libgrpc_csharp_ext.arm64.so",
-                "runtimes/linux-x64/native/libgrpc_csharp_ext.x64.so",
-                "runtimes/osx-x64/native/libgrpc_csharp_ext.x64.dylib",
-            ],
-            "netcoreapp3.0": [
-                "lib/netstandard2.0/Grpc.Core.dll",
-                "lib/netstandard2.0/Grpc.Core.pdb",
-                "lib/netstandard2.0/Grpc.Core.xml",
-
-                # Patched in by regenerate_packages.sh
-                # Can't use select() here, so must just specify all
-                "runtimes/win-x64/native/grpc_csharp_ext.x64.dll",
-                "runtimes/win-x86/native/grpc_csharp_ext.x86.dll",
-                "runtimes/linux-arm64/native/libgrpc_csharp_ext.arm64.so",
-                "runtimes/linux-x64/native/libgrpc_csharp_ext.x64.so",
-                "runtimes/osx-x64/native/libgrpc_csharp_ext.x64.dylib",
-            ],
-            "netcoreapp3.1": [
-                "lib/netstandard2.0/Grpc.Core.dll",
-                "lib/netstandard2.0/Grpc.Core.pdb",
-                "lib/netstandard2.0/Grpc.Core.xml",
-
-                # Patched in by regenerate_packages.sh
-                # Can't use select() here, so must just specify all
-                "runtimes/win-x64/native/grpc_csharp_ext.x64.dll",
-                "runtimes/win-x86/native/grpc_csharp_ext.x86.dll",
-                "runtimes/linux-arm64/native/libgrpc_csharp_ext.arm64.so",
-                "runtimes/linux-x64/native/libgrpc_csharp_ext.x64.so",
-                "runtimes/osx-x64/native/libgrpc_csharp_ext.x64.dylib",
-            ],
-            "net5.0": [
-                "lib/netstandard2.0/Grpc.Core.dll",
-                "lib/netstandard2.0/Grpc.Core.pdb",
-                "lib/netstandard2.0/Grpc.Core.xml",
-
-                # Patched in by regenerate_packages.sh
-                # Can't use select() here, so must just specify all
-                "runtimes/win-x64/native/grpc_csharp_ext.x64.dll",
-                "runtimes/win-x86/native/grpc_csharp_ext.x86.dll",
-                "runtimes/linux-arm64/native/libgrpc_csharp_ext.arm64.so",
-                "runtimes/linux-x64/native/libgrpc_csharp_ext.x64.so",
-                "runtimes/osx-x64/native/libgrpc_csharp_ext.x64.dylib",
+                "lib/netstandard2.0/Microsoft.Extensions.Http.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Http.xml",
+            ],
+            "netcoreapp2.1": [
+                "lib/netstandard2.0/Microsoft.Extensions.Http.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Http.xml",
+            ],
+            "netcoreapp2.2": [
+                "lib/netstandard2.0/Microsoft.Extensions.Http.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Http.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.0/Microsoft.Extensions.Http.dll",
+                "lib/netstandard2.0/Microsoft.Extensions.Http.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Http.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Http.xml",
+            ],
+            "net5.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Http.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Http.xml",
+            ],
+            "net6.0": [
+                "lib/netcoreapp3.1/Microsoft.Extensions.Http.dll",
+                "lib/netcoreapp3.1/Microsoft.Extensions.Http.xml",
             ],
         },
     )
     nuget_package(
-        name = "grpc",
-        package = "grpc",
+        name = "grpc.net.clientfactory",
+        package = "grpc.net.clientfactory",
         version = "2.42.0",
-        sha256 = "e9097f2ab88447b58bcf20929d6954634332f4ad36f64f977d1e797262a2859a",
+        sha256 = "4670fd19285c50b3a2a761c99cf632f0eacfa760d9ae9ba973c2624b9cf69d5f",
+        core_lib = {
+            "netcoreapp2.0": "lib/netstandard2.0/Grpc.Net.ClientFactory.dll",
+            "netcoreapp2.1": "lib/netstandard2.0/Grpc.Net.ClientFactory.dll",
+            "netcoreapp2.2": "lib/netstandard2.0/Grpc.Net.ClientFactory.dll",
+            "netcoreapp3.0": "lib/netstandard2.1/Grpc.Net.ClientFactory.dll",
+            "netcoreapp3.1": "lib/netstandard2.1/Grpc.Net.ClientFactory.dll",
+            "net5.0": "lib/net5.0/Grpc.Net.ClientFactory.dll",
+            "net6.0": "lib/net6.0/Grpc.Net.ClientFactory.dll",
+        },
         core_deps = {
             "netcoreapp2.0": [
-                "@grpc.core//:netcoreapp2.0_core",
+                "@grpc.net.client//:netcoreapp2.0_core",
+                "@microsoft.extensions.http//:netcoreapp2.0_core",
+            ],
+            "netcoreapp2.1": [
+                "@grpc.net.client//:netcoreapp2.1_core",
+                "@microsoft.extensions.http//:netcoreapp2.1_core",
+            ],
+            "netcoreapp2.2": [
+                "@grpc.net.client//:netcoreapp2.2_core",
+                "@microsoft.extensions.http//:netcoreapp2.2_core",
+            ],
+            "netcoreapp3.0": [
+                "@grpc.net.client//:netcoreapp3.0_core",
+                "@microsoft.extensions.http//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@grpc.net.client//:netcoreapp3.1_core",
+                "@microsoft.extensions.http//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@grpc.net.client//:net5.0_core",
+                "@microsoft.extensions.http//:net5.0_core",
+            ],
+            "net6.0": [
+                "@grpc.net.client//:net6.0_core",
+                "@microsoft.extensions.http//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp2.0": [
+                "lib/netstandard2.0/Grpc.Net.ClientFactory.dll",
+                "lib/netstandard2.0/Grpc.Net.ClientFactory.pdb",
+                "lib/netstandard2.0/Grpc.Net.ClientFactory.xml",
             ],
             "netcoreapp2.1": [
-                "@grpc.core//:netcoreapp2.1_core",
+                "lib/netstandard2.0/Grpc.Net.ClientFactory.dll",
+                "lib/netstandard2.0/Grpc.Net.ClientFactory.pdb",
+                "lib/netstandard2.0/Grpc.Net.ClientFactory.xml",
             ],
             "netcoreapp2.2": [
-                "@grpc.core//:netcoreapp2.2_core",
+                "lib/netstandard2.0/Grpc.Net.ClientFactory.dll",
+                "lib/netstandard2.0/Grpc.Net.ClientFactory.pdb",
+                "lib/netstandard2.0/Grpc.Net.ClientFactory.xml",
+            ],
+            "netcoreapp3.0": [
+                "lib/netstandard2.1/Grpc.Net.ClientFactory.dll",
+                "lib/netstandard2.1/Grpc.Net.ClientFactory.pdb",
+                "lib/netstandard2.1/Grpc.Net.ClientFactory.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netstandard2.1/Grpc.Net.ClientFactory.dll",
+                "lib/netstandard2.1/Grpc.Net.ClientFactory.pdb",
+                "lib/netstandard2.1/Grpc.Net.ClientFactory.xml",
+            ],
+            "net5.0": [
+                "lib/net5.0/Grpc.Net.ClientFactory.dll",
+                "lib/net5.0/Grpc.Net.ClientFactory.pdb",
+                "lib/net5.0/Grpc.Net.ClientFactory.xml",
+            ],
+            "net6.0": [
+                "lib/net6.0/Grpc.Net.ClientFactory.dll",
+                "lib/net6.0/Grpc.Net.ClientFactory.pdb",
+                "lib/net6.0/Grpc.Net.ClientFactory.xml",
+            ],
+        },
+    )
+    nuget_package(
+        name = "grpc.aspnetcore.server.clientfactory",
+        package = "grpc.aspnetcore.server.clientfactory",
+        version = "2.42.0",
+        sha256 = "95c1bd8dae2548198547052bdceae72d70e4ec3ab08145386bc23622791a1872",
+        core_lib = {
+            "netcoreapp3.0": "lib/netcoreapp3.0/Grpc.AspNetCore.Server.ClientFactory.dll",
+            "netcoreapp3.1": "lib/netcoreapp3.0/Grpc.AspNetCore.Server.ClientFactory.dll",
+            "net5.0": "lib/net5.0/Grpc.AspNetCore.Server.ClientFactory.dll",
+            "net6.0": "lib/net6.0/Grpc.AspNetCore.Server.ClientFactory.dll",
+        },
+        core_deps = {
+            "netcoreapp3.0": [
+                "@grpc.aspnetcore.server//:netcoreapp3.0_core",
+                "@grpc.net.clientfactory//:netcoreapp3.0_core",
+            ],
+            "netcoreapp3.1": [
+                "@grpc.aspnetcore.server//:netcoreapp3.1_core",
+                "@grpc.net.clientfactory//:netcoreapp3.1_core",
+            ],
+            "net5.0": [
+                "@grpc.aspnetcore.server//:net5.0_core",
+                "@grpc.net.clientfactory//:net5.0_core",
+            ],
+            "net6.0": [
+                "@grpc.aspnetcore.server//:net6.0_core",
+                "@grpc.net.clientfactory//:net6.0_core",
+            ],
+        },
+        core_files = {
+            "netcoreapp3.0": [
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.ClientFactory.dll",
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.ClientFactory.pdb",
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.ClientFactory.xml",
+            ],
+            "netcoreapp3.1": [
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.ClientFactory.dll",
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.ClientFactory.pdb",
+                "lib/netcoreapp3.0/Grpc.AspNetCore.Server.ClientFactory.xml",
+            ],
+            "net5.0": [
+                "lib/net5.0/Grpc.AspNetCore.Server.ClientFactory.dll",
+                "lib/net5.0/Grpc.AspNetCore.Server.ClientFactory.pdb",
+                "lib/net5.0/Grpc.AspNetCore.Server.ClientFactory.xml",
+            ],
+            "net6.0": [
+                "lib/net6.0/Grpc.AspNetCore.Server.ClientFactory.dll",
+                "lib/net6.0/Grpc.AspNetCore.Server.ClientFactory.pdb",
+                "lib/net6.0/Grpc.AspNetCore.Server.ClientFactory.xml",
             ],
+        },
+    )
+    nuget_package(
+        name = "grpc.aspnetcore",
+        package = "grpc.aspnetcore",
+        version = "2.42.0",
+        sha256 = "3e3277641eb34b7cf73c28a0c03f468f4ef4e8477bc1b4ef1e9b316fe72600bb",
+        core_deps = {
             "netcoreapp3.0": [
-                "@grpc.core//:netcoreapp3.0_core",
+                "@grpc.aspnetcore.server.clientfactory//:netcoreapp3.0_core",
+                "@google.protobuf//:netcoreapp3.0_core",
+                "@grpc.tools//:netcoreapp3.0_core",
             ],
             "netcoreapp3.1": [
-                "@grpc.core//:netcoreapp3.1_core",
+                "@grpc.aspnetcore.server.clientfactory//:netcoreapp3.1_core",
+                "@google.protobuf//:netcoreapp3.1_core",
+                "@grpc.tools//:netcoreapp3.1_core",
             ],
             "net5.0": [
-                "@grpc.core//:net5.0_core",
+                "@grpc.aspnetcore.server.clientfactory//:net5.0_core",
+                "@google.protobuf//:net5.0_core",
+                "@grpc.tools//:net5.0_core",
+            ],
+            "net6.0": [
+                "@grpc.aspnetcore.server.clientfactory//:net6.0_core",
+                "@google.protobuf//:net6.0_core",
+                "@grpc.tools//:net6.0_core",
             ],
         },
     )
@@ -391,6 +1576,7 @@ def nuget_rules_proto_grpc_packages():
             "netcoreapp3.0": "lib/netstandard2.0/cs/FSharp.Core.resources.dll",
             "netcoreapp3.1": "lib/netstandard2.0/cs/FSharp.Core.resources.dll",
             "net5.0": "lib/netstandard2.0/cs/FSharp.Core.resources.dll",
+            "net6.0": "lib/netstandard2.0/cs/FSharp.Core.resources.dll",
         },
         core_files = {
             "netcoreapp2.0": [
@@ -495,6 +1681,23 @@ def nuget_rules_proto_grpc_packages():
                 "lib/netstandard2.0/zh-Hans/FSharp.Core.resources.dll",
                 "lib/netstandard2.0/zh-Hant/FSharp.Core.resources.dll",
             ],
+            "net6.0": [
+                "lib/netstandard2.0/cs/FSharp.Core.resources.dll",
+                "lib/netstandard2.0/de/FSharp.Core.resources.dll",
+                "lib/netstandard2.0/es/FSharp.Core.resources.dll",
+                "lib/netstandard2.0/fr/FSharp.Core.resources.dll",
+                "lib/netstandard2.0/FSharp.Core.dll",
+                "lib/netstandard2.0/FSharp.Core.xml",
+                "lib/netstandard2.0/it/FSharp.Core.resources.dll",
+                "lib/netstandard2.0/ja/FSharp.Core.resources.dll",
+                "lib/netstandard2.0/ko/FSharp.Core.resources.dll",
+                "lib/netstandard2.0/pl/FSharp.Core.resources.dll",
+                "lib/netstandard2.0/pt-BR/FSharp.Core.resources.dll",
+                "lib/netstandard2.0/ru/FSharp.Core.resources.dll",
+                "lib/netstandard2.0/tr/FSharp.Core.resources.dll",
+                "lib/netstandard2.0/zh-Hans/FSharp.Core.resources.dll",
+                "lib/netstandard2.0/zh-Hant/FSharp.Core.resources.dll",
+            ],
         },
     )
     nuget_package(
@@ -509,6 +1712,7 @@ def nuget_rules_proto_grpc_packages():
             "netcoreapp3.0": "lib/netstandard2.0/Protobuf.FSharp.dll",
             "netcoreapp3.1": "lib/netstandard2.0/Protobuf.FSharp.dll",
             "net5.0": "lib/netstandard2.0/Protobuf.FSharp.dll",
+            "net6.0": "lib/netstandard2.0/Protobuf.FSharp.dll",
         },
         core_deps = {
             "netcoreapp2.0": [
@@ -535,6 +1739,10 @@ def nuget_rules_proto_grpc_packages():
                 "@fsharp.core//:net5.0_core",
                 "@google.protobuf//:net5.0_core",
             ],
+            "net6.0": [
+                "@fsharp.core//:net6.0_core",
+                "@google.protobuf//:net6.0_core",
+            ],
         },
         core_files = {
             "netcoreapp2.0": [
@@ -555,6 +1763,9 @@ def nuget_rules_proto_grpc_packages():
             "net5.0": [
                 "lib/netstandard2.0/Protobuf.FSharp.dll",
             ],
+            "net6.0": [
+                "lib/netstandard2.0/Protobuf.FSharp.dll",
+            ],
         },
     )
 
diff --git a/fsharp/nuget/nuget.bzl.patch b/fsharp/nuget/nuget.bzl.patch
deleted file mode 100644
index 2890df5f..00000000
--- a/fsharp/nuget/nuget.bzl.patch
+++ /dev/null
@@ -1,6 +0,0 @@
-
-
-                # Patched in by regenerate_packages.sh
-                # Can't use select() here, so must just specify all
-                "runtimes/win-x64/native/grpc_csharp_ext.x64.dll",
-                "runtimes/win-x86/native/grpc_csharp_ext.x86.dll",
\ No newline at end of file
diff --git a/fsharp/nuget/nuget2config.json b/fsharp/nuget/nuget2config.json
index e30292e8..245820c9 100644
--- a/fsharp/nuget/nuget2config.json
+++ b/fsharp/nuget/nuget2config.json
@@ -6,9 +6,26 @@
     "System.Runtime.CompilerServices.Unsafe": "4.7.1",
     "System.Memory": "4.5.4",
     "Google.Protobuf": "3.19.1",
-    "Grpc.Core.Api": "2.42.0",
-    "Grpc.Core": "2.42.0",
-    "Grpc": "2.42.0",
+    "Microsoft.Extensions.Logging.Abstractions": "3.1.22",
+    "Grpc.Core.Api": "2.43.0",
+    "Grpc.Net.Common": "2.42.0",
+    "Grpc.Net.Client": "2.42.0",
+    "Grpc.Tools": "2.43.0",
+    "Microsoft.Extensions.DependencyInjection.Abstractions": "3.1.22",
+    "Microsoft.Extensions.Primitives": "3.1.22",
+    "Microsoft.Extensions.Configuration.Abstractions": "3.1.22",
+    "Microsoft.Extensions.Configuration": "3.1.22",
+    "Microsoft.Extensions.Configuration.Binder": "3.1.22",
+    "Microsoft.Extensions.Options": "3.1.22",
+    "Grpc.AspNetCore.Server": "2.42.0",
+    "System.Threading.Tasks.Extensions": "4.5.4",
+    "Microsoft.Bcl.AsyncInterfaces": "1.1.1",
+    "Microsoft.Extensions.DependencyInjection": "3.1.22",
+    "Microsoft.Extensions.Logging": "3.1.22",
+    "Microsoft.Extensions.Http": "3.1.22",
+    "Grpc.Net.ClientFactory": "2.42.0",
+    "Grpc.AspNetCore.Server.ClientFactory": "2.42.0",
+    "Grpc.AspNetCore": "2.42.0",
     "FSharp.Core": "5.0.1",
     "Protobuf.FSharp": "0.1.3"
   }
diff --git a/fsharp/nuget/regenerate_packages.sh b/fsharp/nuget/regenerate_packages.sh
index e06f52ab..12e33398 100755
--- a/fsharp/nuget/regenerate_packages.sh
+++ b/fsharp/nuget/regenerate_packages.sh
@@ -15,7 +15,8 @@ FSHARP_CORE_VERSION="5.0.1"
 
 OUTPUT_DIR="$(pwd)/fsharp/nuget"
 FILE_NAME="nuget.bzl"
-TOOL="bazel run --host_platform=@io_bazel_rules_dotnet//dotnet/toolchain:linux_amd64_5.0.201 --platforms=@io_bazel_rules_dotnet//dotnet/toolchain:linux_amd64_5.0.201 @io_bazel_rules_dotnet//tools/nuget2bazel:nuget2bazel.exe --"
+DOTNET_TOOLCHAIN="$(uname -sm | tr 'A-Z ' 'a-z_')_6.0.101"
+TOOL="bazel run --host_platform=@io_bazel_rules_dotnet//dotnet/toolchain:${DOTNET_TOOLCHAIN} --platforms=@io_bazel_rules_dotnet//dotnet/toolchain:${DOTNET_TOOLCHAIN} @io_bazel_rules_dotnet//tools/nuget2bazel:nuget2bazel.exe --"
 
 # Clear output files
 if [ -f "${OUTPUT_DIR}/${FILE_NAME}" ]; then
@@ -88,7 +89,8 @@ EOF
 
 # Add deps
 ${TOOL} add --path "${OUTPUT_DIR}" --indent --bazelfile "${FILE_NAME}" Google.Protobuf "${PROTOBUF_VERSION}"
-${TOOL} add --path "${OUTPUT_DIR}" --indent --bazelfile "${FILE_NAME}" Grpc "${GRPC_VERSION}"
+${TOOL} add --path "${OUTPUT_DIR}" --indent --bazelfile "${FILE_NAME}" Grpc.Net.Client "${GRPC_VERSION}"
+${TOOL} add --path "${OUTPUT_DIR}" --indent --bazelfile "${FILE_NAME}" Grpc.AspNetCore "${GRPC_VERSION}"
 ${TOOL} add --path "${OUTPUT_DIR}" --indent --bazelfile "${FILE_NAME}" FSharp.Core "${FSHARP_CORE_VERSION}"
 ${TOOL} add --path "${OUTPUT_DIR}" --indent --bazelfile "${FILE_NAME}" Protobuf.FSharp "${PROTOBUF_FSHARP_VERSION}"
 #${TOOL} add --path "${OUTPUT_DIR}" --indent --bazelfile "${FILE_NAME}" grpc-fsharp "${GRPC_FSHARP_VERSION}"
@@ -98,8 +100,5 @@ if [ -d "${OUTPUT_DIR}/packages" ]; then
     rm -r "${OUTPUT_DIR}/packages"
 fi
 
-# Patch missing Grpc.Core runtimes into nuget_package
-cat "${OUTPUT_DIR}/${FILE_NAME}" | python3 -c "import sys; patch = open('${OUTPUT_DIR}/${FILE_NAME}.patch').read(); sys.stdout.write(sys.stdin.read().replace('Grpc.Core.xml\",', 'Grpc.Core.xml\",' + patch))" | sponge "${OUTPUT_DIR}/${FILE_NAME}"
-
 # Patch in buildifier fixes
 cat "${OUTPUT_DIR}/${FILE_NAME}" | python3 -c "import sys; sys.stdout.write('\"\"\"Generated nuget packages\"\"\"\n\n' + sys.stdin.read().replace('def nuget_rules_proto_grpc_packages():', 'def nuget_rules_proto_grpc_packages():\n    \"\"\"Nuget packages\"\"\"'))" | sponge "${OUTPUT_DIR}/${FILE_NAME}"
diff --git a/repositories.bzl b/repositories.bzl
index baa1caa8..b129517d 100644
--- a/repositories.bzl
+++ b/repositories.bzl
@@ -112,8 +112,8 @@ VERSIONS = {
         "type": "github",
         "org": "bazelbuild",
         "repo": "rules_dotnet",
-        "ref": "a07119eedbba3aee95cefda1f4db0d6a48c53071",
-        "sha256": "75a9c7292e93a7c1b86f59cf457bea5c6e7d6899150e42dbb900ba755f1cbd84",
+        "ref": "d2d7340a140c9b9b03954879606a6e427361966c",
+        "sha256": "8ca5674ffcd657ca3928cb18824d45efa3f8256198a44f38b29820f5438200eb",
     },
 
     # D
diff --git a/tools/rulegen/csharp.go b/tools/rulegen/csharp.go
index a4f88d89..6d2432a3 100644
--- a/tools/rulegen/csharp.go
+++ b/tools/rulegen/csharp.go
@@ -87,7 +87,7 @@ var csharpGrpcLibraryRuleTemplate = mustTemplate(csharpLibraryRuleTemplateString
 
 GRPC_DEPS = [
     "@google.protobuf//:lib",
-    "@grpc.core//:lib",
+    "@grpc.net.core//:lib",
     "@core_sdk_stdlib//:libraryset",
 ]`)
 
@@ -111,7 +111,6 @@ var csharpProtoLibraryExampleTemplate = mustTemplate(`load("@rules_proto_grpc//{
     protos = ["@rules_proto_grpc//example/proto:thing_proto"],
 )`)
 
-
 var csharpGrpcLibraryExampleTemplate = mustTemplate(`load("@rules_proto_grpc//{{ .Lang.Dir }}:defs.bzl", "{{ .Rule.Name }}")
 
 {{ .Rule.Name }}(
diff --git a/tools/rulegen/fsharp.go b/tools/rulegen/fsharp.go
index 26b173b7..bbacf22e 100644
--- a/tools/rulegen/fsharp.go
+++ b/tools/rulegen/fsharp.go
@@ -89,7 +89,7 @@ var fsharpGrpcLibraryRuleTemplate = mustTemplate(fsharpLibraryRuleTemplateString
 
 GRPC_DEPS = [
     "@google.protobuf//:lib",
-    "@grpc.core//:lib",
+    "@grpc.net.core//:lib",
     "@fsharp.core//:lib",
     "@protobuf.fsharp//:lib",
     "@core_sdk_stdlib//:libraryset",
-- 
2.34.1

